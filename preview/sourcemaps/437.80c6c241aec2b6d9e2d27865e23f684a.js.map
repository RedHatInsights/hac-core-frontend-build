{"version":3,"file":"js/437.a2d2ecc556ece51a417a.js","mappings":"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","sources":["webpack:///./node_modules/@scalprum/core/dist/esm/index.js","webpack:///./node_modules/@scalprum/core/dist/esm/warnDuplicatePkg.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { PluginStore } from '@openshift/dynamic-plugin-sdk';\nimport { warnDuplicatePkg } from './warnDuplicatePkg';\nexport var GLOBAL_NAMESPACE = '__scalprum__';\nvar SHARED_SCOPE_NAME = 'default';\nvar scalprum;\nvar getModuleIdentifier = function (scope, module) { return scope + \"#\" + module; };\nexport var getScalprum = function () {\n    if (!scalprum) {\n        throw new Error('Scalprum was not initialized! Call the initialize function first.');\n    }\n    return scalprum;\n};\nexport var initSharedScope = function () { return __awaiter(void 0, void 0, void 0, function () { return __generator(this, function (_a) {\n    return [2, __webpack_init_sharing__(SHARED_SCOPE_NAME)];\n}); }); };\nexport var getSharedScope = function (enableScopeWarning) {\n    if (!Object.keys(__webpack_share_scopes__).includes(SHARED_SCOPE_NAME)) {\n        throw new Error('Attempt to access share scope object before its initialization');\n    }\n    var sharedScope = __webpack_share_scopes__[SHARED_SCOPE_NAME];\n    if (enableScopeWarning) {\n        warnDuplicatePkg(sharedScope);\n    }\n    return sharedScope;\n};\nexport var handlePrefetchPromise = function (id, prefetch) {\n    if (prefetch) {\n        setPendingPrefetch(id, prefetch);\n        prefetch.finally(function () {\n            removePrefetch(id);\n        });\n    }\n};\nexport var getCachedModule = function (scope, module) {\n    var moduleId = getModuleIdentifier(scope, module);\n    try {\n        var cachedModule = getScalprum().exposedModules[moduleId];\n        if (!module) {\n            return {};\n        }\n        var prefetchID = scope + \"#\" + module;\n        var prefetchPromise = getPendingPrefetch(prefetchID);\n        if (prefetchPromise) {\n            return { cachedModule: cachedModule, prefetchPromise: prefetchPromise };\n        }\n        if (cachedModule === null || cachedModule === void 0 ? void 0 : cachedModule.prefetch) {\n            handlePrefetchPromise(prefetchID, cachedModule.prefetch(getScalprum().api));\n            return { cachedModule: cachedModule, prefetchPromise: getPendingPrefetch(prefetchID) };\n        }\n        return { cachedModule: cachedModule };\n    }\n    catch (error) {\n        console.warn(\"Unable to retrieve cached module \" + scope + \" \" + module + \". New module will be loaded.\", error);\n        return {};\n    }\n};\nexport var setPendingPrefetch = function (id, prefetch) {\n    getScalprum().pendingPrefetch[id] = prefetch;\n};\nexport var getPendingPrefetch = function (id) {\n    var _a;\n    return (_a = getScalprum().pendingPrefetch) === null || _a === void 0 ? void 0 : _a[id];\n};\nexport var removePrefetch = function (id) {\n    delete getScalprum().pendingPrefetch[id];\n};\nexport var resolvePendingInjection = function (id) {\n    delete getScalprum().pendingInjections[id];\n};\nexport var setPendingLoading = function (scope, module, promise) {\n    getScalprum().pendingLoading[scope + \"#\" + module] = promise;\n    promise\n        .then(function (data) {\n        delete getScalprum().pendingLoading[scope + \"#\" + module];\n        return data;\n    })\n        .catch(function () {\n        delete getScalprum().pendingLoading[scope + \"#\" + module];\n    });\n    return promise;\n};\nexport var getPendingLoading = function (scope, module) {\n    return getScalprum().pendingLoading[scope + \"#\" + module];\n};\nexport var preloadModule = function (scope, module, processor) { return __awaiter(void 0, void 0, void 0, function () {\n    var manifestLocation, cachedModule, modulePromise, prefetchID;\n    return __generator(this, function (_a) {\n        manifestLocation = getAppData(scope).manifestLocation;\n        cachedModule = getCachedModule(scope, module).cachedModule;\n        modulePromise = getPendingLoading(scope, module);\n        if (!modulePromise && Object.keys(cachedModule || {}).length == 0 && manifestLocation) {\n            modulePromise = processManifest(manifestLocation, scope, module, processor).then(function () { return getScalprum().pluginStore.getExposedModule(scope, module); });\n        }\n        prefetchID = scope + \"#\" + module;\n        if (!getPendingPrefetch(prefetchID) && (cachedModule === null || cachedModule === void 0 ? void 0 : cachedModule.prefetch)) {\n            handlePrefetchPromise(prefetchID, cachedModule.prefetch(getScalprum().api));\n        }\n        return [2, setPendingLoading(scope, module, Promise.resolve(modulePromise))];\n    });\n}); };\nexport var initialize = function (_a) {\n    var appsConfig = _a.appsConfig, api = _a.api, options = _a.options, _b = _a.pluginStoreFeatureFlags, pluginStoreFeatureFlags = _b === void 0 ? {} : _b, _c = _a.pluginLoaderOptions, pluginLoaderOptions = _c === void 0 ? {} : _c, _d = _a.pluginStoreOptions, pluginStoreOptions = _d === void 0 ? {} : _d;\n    if (scalprum) {\n        return scalprum;\n    }\n    var defaultOptions = __assign({ cacheTimeout: 120, enableScopeWarning: process.env.NODE_ENV === 'development' }, options);\n    var pluginStore = new PluginStore(__assign(__assign({}, pluginStoreOptions), { loaderOptions: __assign({ sharedScope: getSharedScope(defaultOptions.enableScopeWarning), getPluginEntryModule: function (_a) {\n                var name = _a.name;\n                return window[name];\n            } }, pluginLoaderOptions) }));\n    pluginStore.setFeatureFlags(pluginStoreFeatureFlags);\n    scalprum = {\n        appsConfig: appsConfig,\n        pendingInjections: {},\n        pendingLoading: {},\n        pendingPrefetch: {},\n        exposedModules: {},\n        scalprumOptions: defaultOptions,\n        api: api || {},\n        pluginStore: pluginStore,\n    };\n    return scalprum;\n};\nexport var removeScalprum = function () {\n    scalprum = undefined;\n};\nexport var getAppData = function (name) { return getScalprum().appsConfig[name]; };\nvar setExposedModule = function (moduleId, exposedModule) {\n    getScalprum().exposedModules[moduleId] = exposedModule;\n};\nvar clearPendingInjection = function (scope) {\n    delete getScalprum().pendingInjections[scope];\n};\nvar setPendingInjection = function (scope, promise) {\n    getScalprum().pendingInjections[scope] = promise;\n};\nvar getPendingInjection = function (scope) { return getScalprum().pendingInjections[scope]; };\nfunction isPluginManifest(manifest) {\n    return (typeof manifest.name === 'string' &&\n        typeof manifest.version === 'string' &&\n        Array.isArray(manifest.extensions) &&\n        Array.isArray(manifest.loadScripts));\n}\nfunction extractBaseURL(path) {\n    var result = path.split('/');\n    result.pop();\n    return result.join('/') || '/';\n}\nexport function processManifest(url, scope, module, processor) {\n    return __awaiter(this, void 0, void 0, function () {\n        var pendingInjection, pluginStore, exposedModule;\n        var _this = this;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    pendingInjection = getPendingInjection(scope);\n                    pluginStore = getScalprum().pluginStore;\n                    if (!pendingInjection) return [3, 3];\n                    return [4, pendingInjection];\n                case 1:\n                    _a.sent();\n                    return [4, pluginStore.getExposedModule(scope, module)];\n                case 2:\n                    exposedModule = _a.sent();\n                    setExposedModule(getModuleIdentifier(scope, module), exposedModule);\n                    return [2];\n                case 3:\n                    pendingInjection = (function () { return __awaiter(_this, void 0, void 0, function () {\n                        var headers, manifestPromise, resClone, data, error_1, manifest, error_2, sdkManifest, loadScripts, baseURL_1, exposedModule, error_3;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    headers = new Headers();\n                                    headers.append('Pragma', 'no-cache');\n                                    headers.append('Cache-Control', 'no-cache');\n                                    headers.append('expires', '0');\n                                    return [4, fetch(url, {\n                                            method: 'GET',\n                                            headers: headers,\n                                        })];\n                                case 1:\n                                    manifestPromise = _a.sent();\n                                    if (!!manifestPromise.ok) return [3, 6];\n                                    resClone = manifestPromise.clone();\n                                    data = void 0;\n                                    _a.label = 2;\n                                case 2:\n                                    _a.trys.push([2, 4, , 5]);\n                                    return [4, resClone.json()];\n                                case 3:\n                                    data = _a.sent();\n                                    return [3, 5];\n                                case 4:\n                                    error_1 = _a.sent();\n                                    throw new Error(\"Unable to load manifest files at \" + url + \"! \" + resClone.status + \": \" + resClone.statusText);\n                                case 5: throw new Error(\"Unable to load manifest files at \" + url + \"! \" + data);\n                                case 6:\n                                    _a.trys.push([6, 8, , 9]);\n                                    return [4, manifestPromise.json()];\n                                case 7:\n                                    manifest = _a.sent();\n                                    return [3, 9];\n                                case 8:\n                                    error_2 = _a.sent();\n                                    clearPendingInjection(scope);\n                                    throw new Error(error_2);\n                                case 9:\n                                    if (isPluginManifest(manifest)) {\n                                        sdkManifest = manifest;\n                                    }\n                                    else {\n                                        loadScripts = processor ? processor(manifest) : manifest[scope].entry;\n                                        baseURL_1 = extractBaseURL(loadScripts[0]);\n                                        sdkManifest = {\n                                            extensions: [],\n                                            loadScripts: loadScripts.map(function (script) { return script.replace(baseURL_1, ''); }),\n                                            name: scope,\n                                            registrationMethod: 'custom',\n                                            version: '1.0.0',\n                                            baseURL: baseURL_1,\n                                        };\n                                    }\n                                    return [4, pluginStore.loadPlugin(sdkManifest)];\n                                case 10:\n                                    _a.sent();\n                                    _a.label = 11;\n                                case 11:\n                                    _a.trys.push([11, 13, , 14]);\n                                    return [4, pluginStore.getExposedModule(scope, module)];\n                                case 12:\n                                    exposedModule = _a.sent();\n                                    setExposedModule(getModuleIdentifier(scope, module), exposedModule);\n                                    return [2];\n                                case 13:\n                                    error_3 = _a.sent();\n                                    clearPendingInjection(scope);\n                                    throw error_3;\n                                case 14: return [2];\n                            }\n                        });\n                    }); })();\n                    setPendingInjection(scope, pendingInjection);\n                    return [4, pendingInjection];\n                case 4:\n                    _a.sent();\n                    clearPendingInjection(scope);\n                    return [2];\n            }\n        });\n    });\n}\n//# sourceMappingURL=index.js.map","export var warnDuplicatePkg = function (packages) {\n    var entries = Object.entries(packages);\n    entries.forEach(function (_a) {\n        var pkgName = _a[0], versions = _a[1];\n        var instances = Object.keys(versions);\n        if (instances.length > 1) {\n            console.warn(\"[SCALPRUM]: You have \" + pkgName + \" package that is being loaded into browser multiple times. You might want to align your version with the chrome one.\");\n            console.warn(\"[SCALPRUM]: All packages instances:\", versions);\n        }\n    });\n};\n//# sourceMappingURL=warnDuplicatePkg.js.map"],"names":["scalprum","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","GLOBAL_NAMESPACE","SHARED_SCOPE_NAME","getModuleIdentifier","scope","module","getScalprum","Error","initSharedScope","_a","getSharedScope","enableScopeWarning","keys","includes","packages","sharedScope","entries","forEach","pkgName","versions","console","warn","handlePrefetchPromise","id","prefetch","setPendingPrefetch","finally","removePrefetch","getCachedModule","moduleId","cachedModule","exposedModules","prefetchID","prefetchPromise","getPendingPrefetch","api","error","pendingPrefetch","resolvePendingInjection","pendingInjections","setPendingLoading","promise","pendingLoading","data","catch","getPendingLoading","preloadModule","processor","manifestLocation","modulePromise","getAppData","processManifest","pluginStore","getExposedModule","initialize","appsConfig","options","_b","pluginStoreFeatureFlags","_c","pluginLoaderOptions","_d","pluginStoreOptions","defaultOptions","cacheTimeout","PluginStore","loaderOptions","getPluginEntryModule","name","window","setFeatureFlags","scalprumOptions","removeScalprum","undefined","setExposedModule","exposedModule","clearPendingInjection","setPendingInjection","getPendingInjection","url","pendingInjection","_this","headers","manifestPromise","resClone","manifest","error_2","sdkManifest","loadScripts","baseURL_1","error_3","Headers","append","fetch","method","ok","clone","json","status","statusText","version","Array","isArray","extensions","isPluginManifest","entry","split","join","map","script","replace","registrationMethod","baseURL","loadPlugin"],"sourceRoot":""}