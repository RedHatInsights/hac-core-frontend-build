{"version":3,"file":"js/3641.1667921489613.dc8265424fa1a47ee1aa.js","mappings":"sGACAA,EAAOC,QAAU,I,iJCgBV,MAAMC,GAAkB,IAAAC,eAA+B,IAE9D,IAAIC,EAEG,SAASC,KAAQC,GAOtB,OANAF,GAAW,QACT,GACA,CAAC,IAAO,KAAmB,EAAAG,EAAA,IAAwB,CAAEC,oBAAqB,CAAC,SAAU,cAAgBF,EAAWG,OAAOC,eACvHC,GAEFP,EAASQ,SAAS,EAAAC,aACXT,E,eCvBT,MAAMU,EAAe,QAAW,IAAM,kCAChCC,EAAU,QAAW,IAAM,kCAEpBC,EAAmB,IAC9B,gBAAC,WAAc,CACbC,SACE,gBAAC,EAAAC,SAAQ,KACP,gBAAC,EAAAC,QAAO,QAIZ,gBAAC,SAAS,KACR,gBAAC,EAAAC,MAAK,CAACC,KAAK,eAAeC,QAAS,gBAACP,EAAO,QAC5C,gBAAC,EAAAK,MAAK,CAACC,KAAK,SAASC,QAAS,gBAACR,EAAY,U,gDCNjD,MAaA,EAAe,QAbkD,EAAGS,QAAAA,MAClE,MAAMC,GAAc,IAAAC,kBASpB,OAFAF,EANwB,eACtB,CAACG,EAAMC,KACLH,EAAYI,gBAAgB,CAAE,CAACF,GAAOC,MAExC,CAACH,KAII,QCOT,EAAe,QAXuD,EAAGK,KAAAA,EAAMC,MAAAA,MAC7E,MAAO,CAAEC,IAAW,IAAAC,gBAAeH,IAC5BI,IAAQ,IAAAC,aAAYJ,GAM3B,OAJA,aAAgB,KACdC,IAAUE,KACT,CAACA,EAAMF,IAEH,QCuBT,EArCsB,KACpB,MAAMI,GAAW,IAAAC,gBACX,YAAEC,GAAgB,aAAiBnC,IAClCoC,IAAoB,IAAAC,uBAAsB,EAAAC,eAC3CC,GAAa,IAAAC,eAAc,EAAAC,oBAE3BC,GAAS,EAAAC,EAAA,KACTC,GAAQ,IAAAC,YAgBd,OAdA,aAAgB,KACdV,IAAczB,SAAS,CAAEoC,cAAe,OACxC,MAAQC,GAAIC,GAAkBN,MAAAA,OAAM,EAANA,EAAQvC,OAEhC8C,EAAaD,EAAc,kBAAmBE,IAC9CA,EAAMC,UACRlB,EAAS,GAAGiB,EAAMC,SAASC,KAAKC,QAAQ,OAAQ,UAGpD,MAAO,KACLJ,OAED,CAACP,EAAQP,EAAaF,IAGvB,gBAAC,WAAc,KACZG,EAAiBkB,KAAKC,GACrB,gBAAC,EAAiB,iBAAKA,EAAUC,WAAU,CAAEC,IAAKF,EAAUG,SAE7DnB,EAAWe,KAAKC,GACf,gBAAC,EAAsB,iBAAKA,EAAUC,WAAU,CAAEC,IAAKF,EAAUG,SAEnE,gBAAC,KAAmB,CAACd,MAAOA,IAC5B,gBAAC9B,EAAM,Q,SCzCb,MAMA,EANe,IACb,gBAAC,EAAAE,SAAQ,KACP,gBAAC,EAAAC,QAAO,OCYL,MAAM,UAAoB0C,MAC/BC,YAAYC,GACVC,MAAMD,GAGNE,OAAOC,eAAeC,KAAM,OAAQ,CAClCxC,iBAAkBD,KAClB0C,YAAY,EACZC,cAAc,IAIuB,mBAA5BR,MAAMS,kBACfT,MAAMS,kBAAkBH,KAAMA,KAAKL,aAEnCK,KAAKI,MAAQ,IAAIV,MAAME,GAASQ,MAKlCN,OAAOO,eAAeL,gBAAiBM,YC9BpC,MAAMC,UAAkB,EAsC7B,YAAmBX,EAAwBY,EAAsBC,EAA4BC,GAC3Fb,MAAMD,GADmC,KAAAY,KAAAA,EAAsB,KAAAC,SAAAA,EAA4B,KAAAC,KAAAA,EAItFC,gBAAgBH,GACrB,OAAO,IAAID,EAAUA,EAAUK,SAASJ,GAAOA,IA1ChC,EAAAI,SAAuC,CACtD,IAAK,cACL,IAAK,eACL,IAAK,mBACL,IAAK,YACL,IAAK,YACL,IAAK,qBACL,IAAK,iBACL,IAAK,gCACL,IAAK,kBACL,IAAK,WACL,IAAK,OACL,IAAK,kBACL,IAAK,sBACL,IAAK,oBACL,IAAK,eACL,IAAK,yBACL,IAAK,wBACL,IAAK,qBACL,IAAK,eACL,IAAK,sBACL,IAAK,mBACL,IAAK,wBACL,IAAK,oBACL,IAAK,kCACL,IAAK,gCACL,IAAK,wBACL,IAAK,kBACL,IAAK,cACL,IAAK,sBACL,IAAK,kBACL,IAAK,6BACL,IAAK,0BACL,IAAK,eACL,IAAK,mC,0SCxCT,MAAMC,EAAc,WA8CPC,EACVC,GACD,CAAOC,EAAa,EAAoE,KAA0B,OAAD,6B,IAA7F,WAAEC,GAAU,EAAKC,E,yUAAO,GAAxB,gBAClB,MAAMC,QAAcJ,EAAKK,WACzB,IAAKD,EACH,OAAOE,QAAQC,OAAO,kDAGxB,MAAMC,EAAa,OAAH,wBACXL,GAAO,CACVM,QAAS,OAAF,wBACFN,EAAQM,SAAO,CAClBC,OAAQ,mBACRC,cAAe,UAAUP,QAIvBQ,EAAS,GAAgD,KAA5CV,MAAAA,EAAAA,EAAcJ,GAAae,QAAQ,KAAa,GAAK,MAAMX,MAAAA,EAAAA,EAAcJ,IAE5F,IACE,IAAIgB,EAAUb,EAKd,MAJI,QAAQc,KAAKd,KAEfa,EAAUb,EAAIe,MAAM,IA/DStB,QAiEHuB,MAAM,IAAIC,QAAQ,GAAGN,IAASE,IAAW,CAAEK,YAAa,YAAcX,GAjE5C,OAAD,6BACzD,GAAId,EAAS0B,GACX,OAAO1B,EAGT,GAAwB,MAApBA,EAAS2B,OACX,MAAM,IAAI7B,EAAU,sDAAuDE,EAAS2B,OAAQ3B,GAG9F,MAAM4B,EAAc5B,EAASe,QAAQc,IAAI,gBACzC,IAAKD,IAAgD,IAAjCA,EAAYT,QAAQ,QACtC,MAAM,IAAIrB,EAAUE,EAAS8B,WAAY9B,EAAS2B,OAAQ3B,GAG5D,OAAwB,MAApBA,EAAS2B,OACJ3B,EAASC,OAAO8B,MAAM9B,IAC3B,MAAM,IAAIH,EAAUG,EAAKd,SAAW,uCAAwCa,EAAS2B,OAAQ3B,EAAUC,MAIpGD,EAASC,OAAO8B,MAAM9B,I,QAC3B,MAAM+B,EAA4B,QAApB,EAAY,QAAZ,EAAA/B,EAAKgC,eAAO,eAAEC,cAAM,eAAG,GACrC,IAAIC,EAcJ,MAbIH,IACFG,EAAS,UAAUH,EAAM7C,uBAAuB6C,EAAMI,WAEnDD,IACHA,EAASlC,EAAKd,SAEXgD,IACHA,EAASlC,EAAKoC,OAEXF,IACHA,EAASnC,EAAS8B,YAGd,IAAIhC,EAAUqC,EAAQnC,EAAS2B,OAAQ3B,EAAUC,SA8BrD,MAAOqC,GACP,OAAO1B,QAAQC,OAAOyB,GAnEE,IAAOtC,KCJxBuC,EAA0B7B,GAE9B,CAAC,yCALD8B,KAIoB9B,GAJT/B,QAAQ,MAAO,KAAKA,QAAQ,MAAO,KAAK8D,MAAM,IAAK,GAAG,KAKR,wB,eCGlE,MAiCA,EAjC4B,KAC1B,MAAM,KAAEnC,IAAS,EAAArC,EAAA,MACVyE,EAAmBC,GAAwB,WAAyC,MA4B3F,OA1BA,aAAgB,KACVrC,IAASoC,GACXC,EAAqB,CACnBC,SAAUvC,EAAYC,GACtBuC,cAAsBpC,IAAwD,O,OAAA,E,OAAA,E,EAAA,YAC5E,MAAMS,GAAUT,MAAAA,OAAO,EAAPA,EAASqC,YAAYrC,MAAAA,OAAO,EAAPA,EAASD,aAAc,WACtDE,QAAcJ,EAAKK,WACzB,MAAO,CACLoC,KAAM,SAASC,SAASD,OAA+B,IAAxB7B,EAAOC,QAAQ,KAAa,GAAK,MAAMD,IACtE+B,aAAcV,EAAuB7B,GACrCwC,WAAa3C,IACX,MAAO4C,EAASC,GAAS7C,EAAIkC,MAAM,MAAQ,GACrCY,EAAc,IAAIC,gBAAgBF,GAIxC,OAHKC,EAAYxB,IAAI,UACnBwB,EAAYE,IAAI,QAAS,QAEpB,GAAGJ,KAAWE,EAAYG,gB,YAZuC,K,+QAgB9EC,gBAAiB,CAAC,wBAClB7G,YAAW,kBAGd,CAAC8F,EAAmBpC,IAEhBoC,GCrBT,EAbgC,EAAGgB,SAAAA,MACjC,MAAMhB,EAAoB,IAE1B,OAAKA,EAOE,gBAAC,EAAAiB,WAAU,CAACC,eAAgBlB,GAAoBgB,GAN9C,gBAAC,EAAM,O,eCAlB,MCLMG,EAAOC,SAASC,eAAe,SAErC,IAAAC,QAAO,iBDGU,KACf,MAAMxI,EAAkEC,IACxE,OACE,gBAACH,EAAgB2I,SAAQ,CACvBlH,MAAO,CACLU,YAAa,IAAMjC,IAGrB,gBAAC,EAAAyI,SAAQ,CAAC/F,MAAO1C,EAAS0I,YACxB,gBAAC,EAAa,KACZ,gBAAC,gBAAM,CAACC,UAAU,QAAYC,OAAOpB,SAASqB,SAAU,IACtD,gBAAC,EAAG,YCdA,MAAKR,GAAM,IAAMA,EAAMS,aAAa,iBAAkB,W","sources":["webpack:///./config/empty.js","webpack:///./src/store/index.ts","webpack:///./src/Routes.tsx","webpack:///./src/Utils/FeatureFlagLoader.tsx","webpack:///./src/Utils/ModelFeatureFlagLoader.tsx","webpack:///./src/App.tsx","webpack:///./src/Utils/Loader.tsx","webpack:///./src/sdk/customError.ts","webpack:///./src/sdk/httpError.ts","webpack:///./src/sdk/commonFetch.ts","webpack:///./src/sdk/wsConfigs.ts","webpack:///./src/sdk/useAppConfiguration.ts","webpack:///./src/sdk/InitializeSDK.tsx","webpack:///./src/AppEntry.tsx","webpack:///./src/bootstrap.tsx"],"sourcesContent":["// Used as an empty module to save bundle size\nmodule.exports = {};\n","import { createContext } from 'react';\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport { notificationsMiddleware } from '@redhat-cloud-services/frontend-components-notifications/notificationsMiddleware';\nimport { SDKReducers } from '@openshift/dynamic-plugin-sdk-utils';\nimport thunk from 'redux-thunk';\nimport type { Middleware, Store } from 'redux';\n\nexport type Registry = {\n  getStore: () => Store;\n  register<TRegister>(toRegister: TRegister): void;\n};\n\nexport type ContextRegistry = {\n  getRegistry: () => Registry;\n};\n\nexport const RegistryContext = createContext<ContextRegistry>({} as ContextRegistry);\n\nlet registry: Registry;\n\nexport function init(...middleware: Middleware[]): Registry {\n  registry = getRegistry(\n    {},\n    [thunk, promiseMiddleware, notificationsMiddleware({ errorDescriptionKey: ['detail', 'stack'] }), ...middleware.filter(Boolean)],\n    undefined,\n  );\n  registry.register(SDKReducers);\n  return registry;\n}\n","import * as React from 'react';\nimport { Route, Routes as DomRoutes } from 'react-router-dom';\n\nimport { Bullseye, Spinner } from '@patternfly/react-core';\n\nconst DynamicRoute = React.lazy(() => import(/* webpackChunkName: \"DynamicRoute\" */ './Routes/DynamicRoute/DynamicRoute'));\nconst TestK8s = React.lazy(() => import(/* webpackChunkName: \"TestK8s\" */ './Routes/testK8s/TestK8s'));\n\nexport const Routes: React.FC = () => (\n  <React.Suspense\n    fallback={\n      <Bullseye>\n        <Spinner />\n      </Bullseye>\n    }\n  >\n    <DomRoutes>\n      <Route path=\"/hac/testK8s\" element={<TestK8s />} />\n      <Route path=\"/hac/*\" element={<DynamicRoute />} />\n    </DomRoutes>\n  </React.Suspense>\n);\n","import * as React from 'react';\nimport { usePluginStore } from '@openshift/dynamic-plugin-sdk';\nimport type { SetFeatureFlag } from '@openshift/dynamic-plugin-sdk';\n\nexport type ModelFeatureFlagLoaderProps = {\n  handler: (callback: SetFeatureFlag) => void;\n};\n/**\n * Component to wrap handling of feature flag handler.\n * @param function function that accepts single argmunet of type SetFeatureFlag callback.\n * @returns null\n */\nconst FeatureFlagLoader: React.FC<ModelFeatureFlagLoaderProps> = ({ handler }) => {\n  const pluginStore = usePluginStore();\n  const setFlagCallback = React.useCallback(\n    (name, value) => {\n      pluginStore.setFeatureFlags({ [name]: value });\n    },\n    [pluginStore],\n  );\n  handler(setFlagCallback);\n\n  return null;\n};\n\nexport default React.memo(FeatureFlagLoader);\n","import * as React from 'react';\nimport { useFeatureFlag } from '@openshift/dynamic-plugin-sdk';\nimport { useK8sModel } from '@openshift/dynamic-plugin-sdk-utils';\n\nexport type ModelFeatureFlagLoaderProps = {\n  flag: string;\n  model: {\n    group: string;\n    version: string;\n    kind: string;\n  };\n};\n\n/**\n * Component to wrap setting and loading of model feature flag.\n * @param ModelFeatureFlagLoaderProps which model and feature flag to set for given namespace.\n * @returns null\n */\nconst ModelFeatureFlagLoader: React.FC<ModelFeatureFlagLoaderProps> = ({ flag, model }) => {\n  const [, setFlag] = useFeatureFlag(flag);\n  const [data] = useK8sModel(model);\n\n  React.useEffect(() => {\n    setFlag(!!data);\n  }, [data, setFlag]);\n\n  return null;\n};\n\nexport default React.memo(ModelFeatureFlagLoader);\n","import * as React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Routes } from './Routes';\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport { useStore } from 'react-redux';\nimport { RegistryContext } from './store';\nimport { isFeatureFlag, isModelFeatureFlag, useExtensions, useResolvedExtensions } from '@openshift/dynamic-plugin-sdk';\nimport FeatureFlagLoader from './Utils/FeatureFlagLoader';\nimport ModelFeatureFlagLoader from './Utils/ModelFeatureFlagLoader';\n\nconst App: React.FC = () => {\n  const navigate = useNavigate();\n  const { getRegistry } = React.useContext(RegistryContext);\n  const [featureExtension] = useResolvedExtensions(isFeatureFlag);\n  const extensions = useExtensions(isModelFeatureFlag);\n\n  const chrome = useChrome();\n  const store = useStore();\n\n  React.useEffect(() => {\n    getRegistry().register({ notifications: notificationsReducer });\n    const { on: onChromeEvent } = chrome?.init();\n\n    const unregister = onChromeEvent('APP_NAVIGATION', (event: any) => {\n      if (event.domEvent) {\n        navigate(`${event.domEvent.href.replace('/hac', '')}`);\n      }\n    });\n    return () => {\n      unregister();\n    };\n  }, [chrome, getRegistry, navigate]);\n\n  return (\n    <React.Fragment>\n      {featureExtension.map((extension) => (\n        <FeatureFlagLoader {...extension.properties} key={extension.uid} />\n      ))}\n      {extensions.map((extension) => (\n        <ModelFeatureFlagLoader {...extension.properties} key={extension.uid} />\n      ))}\n      <NotificationsPortal store={store} />\n      <Routes />\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import * as React from 'react';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\n\nconst Loader = () => (\n  <Bullseye>\n    <Spinner />\n  </Bullseye>\n);\n\nexport default Loader;\n","/**\n * Allows to easily extend a base class to create custom applicative errors.\n *\n * example:\n * ```\n * class HttpError extends CustomError {\n * \tpublic constructor(\n * \t\tpublic code: number,\n * \t\tmessage?: string,\n * \t) {\n * \t\tsuper(message)\n * \t}\n * }\n *\n * new HttpError(404, 'Not found')\n * ```\n */\nexport class CustomError extends Error {\n  constructor(message?: string) {\n    super(message);\n    // set error name as constructor name, make it not enumerable to keep native Error behavior\n    // see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new.target#new.target_in_constructors\n    Object.defineProperty(this, 'name', {\n      value: new.target.name,\n      enumerable: false,\n      configurable: true,\n    });\n    // Use captureStackTrace when available to remove contructor from stack trace\n    // Add message to the stack trace\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, this.constructor);\n    } else {\n      this.stack = new Error(message).stack;\n    }\n    // fix the extended error prototype chain\n    // because typescript __extends implementation can't\n    // see https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\n","import { CustomError } from './customError';\n\n/**\n * Http error\n *\n * Usage: throw HttpError.fromCode(404)\n */\nexport class HttpError extends CustomError {\n  protected static messages: { [code: number]: string } = {\n    400: 'Bad Request',\n    401: 'Unauthorized',\n    402: 'Payment Required',\n    403: 'Forbidden',\n    404: 'Not Found',\n    405: 'Method Not Allowed',\n    406: 'Not Acceptable',\n    407: 'Proxy Authentication Required', // RFC 7235\n    408: 'Request Timeout',\n    409: 'Conflict',\n    410: 'Gone',\n    411: 'Length Required',\n    412: 'Precondition Failed', // RFC 7232\n    413: 'Payload Too Large', // RFC 7231\n    414: 'URI Too Long', // RFC 7231\n    415: 'Unsupported Media Type',\n    416: 'Range Not Satisfiable', // RFC 7233\n    417: 'Expectation Failed',\n    418: \"I'm a teapot\", // RFC 2324\n    421: 'Misdirected Request', // RFC 7540\n    426: 'Upgrade Required',\n    428: 'Precondition Required', // RFC 6585\n    429: 'Too Many Requests', // RFC 6585\n    431: 'Request Header Fields Too Large', // RFC 6585\n    451: 'Unavailable For Legal Reasons', // RFC 7725\n    500: 'Internal Server Error',\n    501: 'Not Implemented',\n    502: 'Bad Gateway',\n    503: 'Service Unavailable',\n    504: 'Gateway Timeout',\n    505: 'HTTP Version Not Supported',\n    506: 'Variant Also Negotiates', // RFC 2295\n    510: 'Not Extended', // RFC 2774\n    511: 'Network Authentication Required', // RFC 6585\n  };\n\n  public constructor(message: string, public code?: number, public response?: Response, public json?: any) {\n    super(message);\n  }\n\n  public static fromCode(code: number) {\n    return new HttpError(HttpError.messages[code], code);\n  }\n}\n\nexport class TimeoutError extends CustomError {\n  public constructor(public url: string, public ms: number) {\n    super(`Call to ${url} timed out after ${ms}ms.`);\n  }\n}\n\nexport class RetryError extends CustomError {}\n","import { HttpError } from './httpError';\n\nconst k8sBasePath = `/api/k8s`;\n\ntype AuthConfig = {\n  getToken: () => Promise<String>;\n};\n\nexport const validateStatus = async (response: Response) => {\n  if (response.ok) {\n    return response;\n  }\n\n  if (response.status === 401) {\n    throw new HttpError('Invalid token. Are you working with Prod SSO token?', response.status, response);\n  }\n\n  const contentType = response.headers.get('content-type');\n  if (!contentType || contentType.indexOf('json') === -1) {\n    throw new HttpError(response.statusText, response.status, response);\n  }\n\n  if (response.status === 403) {\n    return response.json().then((json) => {\n      throw new HttpError(json.message || 'Access denied due to cluster policy.', response.status, response, json);\n    });\n  }\n\n  return response.json().then((json) => {\n    const cause = json.details?.causes?.[0];\n    let reason;\n    if (cause) {\n      reason = `Error \"${cause.message}\" for field \"${cause.field}\".`;\n    }\n    if (!reason) {\n      reason = json.message;\n    }\n    if (!reason) {\n      reason = json.error;\n    }\n    if (!reason) {\n      reason = response.statusText;\n    }\n\n    throw new HttpError(reason, response.status, response, json);\n  });\n};\n\nexport const commonFetch =\n  (auth: AuthConfig) =>\n  async (url: string, { pathPrefix, ...options }: RequestInit & { pathPrefix?: string } = {}): Promise<Response> => {\n    const token = await auth.getToken();\n    if (!token) {\n      return Promise.reject('Could not make k8s call. Unable to find token.');\n    }\n\n    const allOptions = {\n      ...options,\n      headers: {\n        ...options.headers,\n        Accept: 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    };\n\n    const prefix = `${(pathPrefix ?? k8sBasePath).indexOf('/') === 0 ? '' : '/'}${pathPrefix ?? k8sBasePath}`;\n\n    try {\n      let safeURL = url;\n      if (/^\\/\\//.test(url)) {\n        // https://github.com/openshift/dynamic-plugin-sdk/pull/55\n        safeURL = url.slice(1);\n      }\n      return validateStatus(await fetch(new Request(`${prefix}${safeURL}`, { credentials: 'include' }), allOptions));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n","const base64 = (data: string): string => {\n  return btoa(data).replace(/\\+/g, '-').replace(/\\//g, '_').split('=', 1)[0];\n};\n\nexport const getWSTokenSubProtocols = (token: string): string[] => {\n  const base64Token = base64(token);\n  return [`base64url.bearer.authorization.k8s.io.${base64Token}`, 'base64.binary.k8s.io'];\n};\n","import * as React from 'react';\nimport { commonFetch } from './commonFetch';\nimport { getWSTokenSubProtocols } from './wsConfigs';\nimport { AppInitSDK } from '@openshift/dynamic-plugin-sdk-utils';\nimport { pluginStore } from 'Sdk/createStore';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\ntype AppConfigurations = React.ComponentProps<typeof AppInitSDK>['configurations'];\n\nconst useAppConfiguration = (): AppConfigurations | null => {\n  const { auth } = useChrome();\n  const [appConfigurations, setAppConfigurations] = React.useState<AppConfigurations | null>(null);\n\n  React.useEffect(() => {\n    if (auth && !appConfigurations) {\n      setAppConfigurations({\n        appFetch: commonFetch(auth),\n        wsAppSettings: async (options: { wsPrefix?: string; pathPrefix?: string }) => {\n          const prefix = (options?.wsPrefix || options?.pathPrefix || '/wss/k8s') as string;\n          const token = await auth.getToken();\n          return {\n            host: `wss://${location.host}${prefix.indexOf('/') === 0 ? '' : '/'}${prefix}`,\n            subProtocols: getWSTokenSubProtocols(token),\n            urlAugment: (url: string) => {\n              const [origUrl, query] = url.split('?') || [];\n              const queryParams = new URLSearchParams(query);\n              if (!queryParams.get('watch')) {\n                queryParams.set('watch', 'true');\n              }\n              return `${origUrl}?${queryParams.toString()}`;\n            },\n          };\n        },\n        apiPriorityList: ['appstudio.redhat.com'],\n        pluginStore,\n      });\n    }\n  }, [appConfigurations, auth]);\n\n  return appConfigurations;\n};\n\nexport default useAppConfiguration;\n","import * as React from 'react';\nimport { AppInitSDK } from '@openshift/dynamic-plugin-sdk-utils';\nimport Loader from '../Utils/Loader';\nimport useAppConfiguration from './useAppConfiguration';\n\nconst InitializeSDK: React.FC = ({ children }) => {\n  const appConfigurations = useAppConfiguration();\n\n  if (!appConfigurations) {\n    return <Loader />;\n  }\n\n  // TODO(SDK): Don't override children\n  // TODO(SDK): AppInitSDK doesn't work with no redux\n  // react_devtools_backend.js:4061 Error: could not find react-redux context value; please ensure the component is wrapped in a <Provider>\n  return <AppInitSDK configurations={appConfigurations}>{children as any}</AppInitSDK>;\n};\n\nexport default InitializeSDK;\n","import * as React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { init, RegistryContext } from './store';\nimport App from './App';\nimport logger from 'redux-logger';\nimport { InitializeSDK } from './sdk';\nimport { getBaseName } from '@redhat-cloud-services/frontend-components-utilities/helpers';\n\nconst AppEntry = () => {\n  const registry = process.env.NODE_ENV !== 'production' ? init(logger) : init();\n  return (\n    <RegistryContext.Provider\n      value={{\n        getRegistry: () => registry,\n      }}\n    >\n      <Provider store={registry.getStore()}>\n        <InitializeSDK>\n          <Router basename={getBaseName(window.location.pathname, 0)}>\n            <App />\n          </Router>\n        </InitializeSDK>\n      </Provider>\n    </RegistryContext.Provider>\n  );\n};\n\nexport default AppEntry;\n","import * as React from 'react';\nimport { render } from 'react-dom';\nimport AppEntry from './AppEntry';\n\nconst root = document.getElementById('root');\n\nrender(<AppEntry />, root, () => root!.setAttribute('data-ouia-safe', 'true'));\n"],"names":["module","exports","RegistryContext","createContext","registry","init","middleware","notificationsMiddleware","errorDescriptionKey","filter","Boolean","undefined","register","SDKReducers","DynamicRoute","TestK8s","Routes","fallback","Bullseye","Spinner","Route","path","element","handler","pluginStore","usePluginStore","name","value","setFeatureFlags","flag","model","setFlag","useFeatureFlag","data","useK8sModel","navigate","useNavigate","getRegistry","featureExtension","useResolvedExtensions","isFeatureFlag","extensions","useExtensions","isModelFeatureFlag","chrome","useChrome","store","useStore","notifications","on","onChromeEvent","unregister","event","domEvent","href","replace","map","extension","properties","key","uid","Error","constructor","message","super","Object","defineProperty","this","enumerable","configurable","captureStackTrace","stack","setPrototypeOf","prototype","HttpError","code","response","json","static","messages","k8sBasePath","commonFetch","auth","url","pathPrefix","options","token","getToken","Promise","reject","allOptions","headers","Accept","Authorization","prefix","indexOf","safeURL","test","slice","fetch","Request","credentials","ok","status","contentType","get","statusText","then","cause","details","causes","reason","field","error","e","getWSTokenSubProtocols","btoa","split","appConfigurations","setAppConfigurations","appFetch","wsAppSettings","wsPrefix","host","location","subProtocols","urlAugment","origUrl","query","queryParams","URLSearchParams","set","toString","apiPriorityList","children","AppInitSDK","configurations","root","document","getElementById","render","Provider","getStore","basename","window","pathname","setAttribute"],"sourceRoot":""}