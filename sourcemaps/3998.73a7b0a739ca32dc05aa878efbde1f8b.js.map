{"version":3,"file":"js/3998.1682420414933.d3e0b273a6ea676a4e5d.js","mappings":"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","sources":["webpack:///./node_modules/@scalprum/react-core/node_modules/@scalprum/core/dist/esm/index.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { PluginLoader, PluginStore } from '@openshift/dynamic-plugin-sdk';\nexport var GLOBAL_NAMESPACE = '__scalprum__';\nvar SHARED_SCOPE_NAME = 'default';\nvar scalprum;\nvar getModuleIdentifier = function (scope, module) { return scope + \"#\" + module; };\nexport var getScalprum = function () {\n    if (!scalprum) {\n        throw new Error('Scalprum was not initialized! Call the initialize function first.');\n    }\n    return scalprum;\n};\nexport var initSharedScope = function () { return __awaiter(void 0, void 0, void 0, function () { return __generator(this, function (_a) {\n    return [2, __webpack_init_sharing__(SHARED_SCOPE_NAME)];\n}); }); };\nexport var getSharedScope = function () {\n    if (!Object.keys(__webpack_share_scopes__).includes(SHARED_SCOPE_NAME)) {\n        throw new Error('Attempt to access share scope object before its initialization');\n    }\n    return __webpack_share_scopes__[SHARED_SCOPE_NAME];\n};\nexport var handlePrefetchPromise = function (id, prefetch) {\n    if (prefetch) {\n        setPendingPrefetch(id, prefetch);\n        prefetch.finally(function () {\n            removePrefetch(id);\n        });\n    }\n};\nexport var getCachedModule = function (scope, module) {\n    var moduleId = getModuleIdentifier(scope, module);\n    try {\n        var cachedModule = getScalprum().exposedModules[moduleId];\n        if (!module) {\n            return {};\n        }\n        var prefetchID = scope + \"#\" + module;\n        var prefetchPromise = getPendingPrefetch(prefetchID);\n        if (prefetchPromise) {\n            return { cachedModule: cachedModule, prefetchPromise: prefetchPromise };\n        }\n        if (cachedModule === null || cachedModule === void 0 ? void 0 : cachedModule.prefetch) {\n            handlePrefetchPromise(prefetchID, cachedModule.prefetch(getScalprum().api));\n            return { cachedModule: cachedModule, prefetchPromise: getPendingPrefetch(prefetchID) };\n        }\n        return { cachedModule: cachedModule };\n    }\n    catch (error) {\n        console.warn(\"Unable to retrieve cached module \" + scope + \" \" + module + \". New module will be loaded.\", error);\n        return {};\n    }\n};\nexport var setPendingPrefetch = function (id, prefetch) {\n    getScalprum().pendingPrefetch[id] = prefetch;\n};\nexport var getPendingPrefetch = function (id) {\n    var _a;\n    return (_a = getScalprum().pendingPrefetch) === null || _a === void 0 ? void 0 : _a[id];\n};\nexport var removePrefetch = function (id) {\n    delete getScalprum().pendingPrefetch[id];\n};\nexport var resolvePendingInjection = function (id) {\n    delete getScalprum().pendingInjections[id];\n};\nexport var setPendingLoading = function (scope, module, promise) {\n    getScalprum().pendingLoading[scope + \"#\" + module] = promise;\n    promise\n        .then(function (data) {\n        delete getScalprum().pendingLoading[scope + \"#\" + module];\n        return data;\n    })\n        .catch(function () {\n        delete getScalprum().pendingLoading[scope + \"#\" + module];\n    });\n    return promise;\n};\nexport var getPendingLoading = function (scope, module) {\n    return getScalprum().pendingLoading[scope + \"#\" + module];\n};\nexport var preloadModule = function (scope, module, processor) { return __awaiter(void 0, void 0, void 0, function () {\n    var manifestLocation, cachedModule, modulePromise, prefetchID;\n    return __generator(this, function (_a) {\n        manifestLocation = getAppData(scope).manifestLocation;\n        cachedModule = getCachedModule(scope, module).cachedModule;\n        modulePromise = getPendingLoading(scope, module);\n        if (!modulePromise && Object.keys(cachedModule || {}).length == 0 && manifestLocation) {\n            modulePromise = processManifest(manifestLocation, scope, module, processor).then(function () { return getScalprum().pluginStore.getExposedModule(scope, module); });\n        }\n        prefetchID = scope + \"#\" + module;\n        if (!getPendingPrefetch(prefetchID) && (cachedModule === null || cachedModule === void 0 ? void 0 : cachedModule.prefetch)) {\n            handlePrefetchPromise(prefetchID, cachedModule.prefetch(getScalprum().api));\n        }\n        return [2, setPendingLoading(scope, module, Promise.resolve(modulePromise))];\n    });\n}); };\nexport var initialize = function (_a) {\n    var appsConfig = _a.appsConfig, api = _a.api, options = _a.options, _b = _a.pluginStoreFeatureFlags, pluginStoreFeatureFlags = _b === void 0 ? {} : _b, _c = _a.pluginLoaderOptions, pluginLoaderOptions = _c === void 0 ? {} : _c, _d = _a.pluginStoreOptions, pluginStoreOptions = _d === void 0 ? {} : _d;\n    if (scalprum) {\n        return scalprum;\n    }\n    var defaultOptions = __assign({ cacheTimeout: 120 }, options);\n    var pluginLoader = new PluginLoader(__assign({ sharedScope: getSharedScope(), getPluginEntryModule: function (_a) {\n            var name = _a.name;\n            return window[name];\n        } }, pluginLoaderOptions));\n    var pluginStore = new PluginStore(pluginStoreOptions);\n    pluginLoader.registerPluginEntryCallback();\n    pluginStore.setLoader(pluginLoader);\n    pluginStore.setFeatureFlags(pluginStoreFeatureFlags);\n    scalprum = {\n        appsConfig: appsConfig,\n        pendingInjections: {},\n        pendingLoading: {},\n        pendingPrefetch: {},\n        exposedModules: {},\n        scalprumOptions: defaultOptions,\n        api: api || {},\n        pluginStore: pluginStore,\n    };\n    return scalprum;\n};\nexport var getAppData = function (name) { return getScalprum().appsConfig[name]; };\nvar setExposedModule = function (moduleId, exposedModule) {\n    getScalprum().exposedModules[moduleId] = exposedModule;\n};\nvar clearPendingInjection = function (scope) {\n    delete getScalprum().pendingInjections[scope];\n};\nvar setPendingInjection = function (scope, promise) {\n    getScalprum().pendingInjections[scope] = promise;\n};\nvar getPendingInjection = function (scope) { return getScalprum().pendingInjections[scope]; };\nexport function processManifest(url, scope, module, processor) {\n    return __awaiter(this, void 0, void 0, function () {\n        var pendingInjection, pluginStore, exposedModule;\n        var _this = this;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    pendingInjection = getPendingInjection(scope);\n                    pluginStore = getScalprum().pluginStore;\n                    if (!pendingInjection) return [3, 3];\n                    return [4, pendingInjection];\n                case 1:\n                    _a.sent();\n                    return [4, pluginStore.getExposedModule(scope, module)];\n                case 2:\n                    exposedModule = _a.sent();\n                    setExposedModule(getModuleIdentifier(scope, module), exposedModule);\n                    return [2];\n                case 3:\n                    pendingInjection = new Promise(function (res, rej) { return __awaiter(_this, void 0, void 0, function () {\n                        var headers, manifestPromise, response, error, _a, manifest, loadScripts, injectionScript, exposedModule, error_1;\n                        return __generator(this, function (_b) {\n                            switch (_b.label) {\n                                case 0:\n                                    headers = new Headers();\n                                    headers.append('Pragma', 'no-cache');\n                                    headers.append('Cache-Control', 'no-cache');\n                                    headers.append('expires', '0');\n                                    manifestPromise = fetch(url, {\n                                        method: 'GET',\n                                        headers: headers,\n                                    });\n                                    return [4, manifestPromise];\n                                case 1:\n                                    response = _b.sent();\n                                    if (!!response.ok) return [3, 7];\n                                    error = 'Unable to process manifest';\n                                    _b.label = 2;\n                                case 2:\n                                    _b.trys.push([2, 4, , 6]);\n                                    return [4, response.json()];\n                                case 3:\n                                    error = _b.sent();\n                                    return [3, 6];\n                                case 4:\n                                    _a = _b.sent();\n                                    return [4, response.text()];\n                                case 5:\n                                    error = _b.sent();\n                                    return [3, 6];\n                                case 6: return [2, rej(error)];\n                                case 7: return [4, response.json()];\n                                case 8:\n                                    manifest = _b.sent();\n                                    loadScripts = processor ? processor(manifest) : manifest[scope].entry;\n                                    injectionScript = pluginStore.loadPlugin(document.location.origin, {\n                                        extensions: [],\n                                        loadScripts: loadScripts,\n                                        name: scope,\n                                        registrationMethod: 'custom',\n                                        version: '1.0.0',\n                                    });\n                                    return [4, injectionScript];\n                                case 9:\n                                    _b.sent();\n                                    _b.label = 10;\n                                case 10:\n                                    _b.trys.push([10, 12, , 13]);\n                                    return [4, pluginStore.getExposedModule(scope, module)];\n                                case 11:\n                                    exposedModule = _b.sent();\n                                    setExposedModule(getModuleIdentifier(scope, module), exposedModule);\n                                    return [3, 13];\n                                case 12:\n                                    error_1 = _b.sent();\n                                    clearPendingInjection(scope);\n                                    return [2, rej(error_1)];\n                                case 13:\n                                    res();\n                                    return [2];\n                            }\n                        });\n                    }); });\n                    setPendingInjection(scope, pendingInjection);\n                    return [4, pendingInjection];\n                case 4:\n                    _a.sent();\n                    clearPendingInjection(scope);\n                    return [2];\n            }\n        });\n    });\n}\n//# sourceMappingURL=index.js.map"],"names":["scalprum","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","GLOBAL_NAMESPACE","SHARED_SCOPE_NAME","getModuleIdentifier","scope","module","getScalprum","Error","initSharedScope","_a","getSharedScope","keys","includes","handlePrefetchPromise","id","prefetch","setPendingPrefetch","finally","removePrefetch","getCachedModule","moduleId","cachedModule","exposedModules","prefetchID","prefetchPromise","getPendingPrefetch","api","error","console","warn","pendingPrefetch","resolvePendingInjection","pendingInjections","setPendingLoading","promise","pendingLoading","data","catch","getPendingLoading","preloadModule","processor","manifestLocation","modulePromise","getAppData","processManifest","pluginStore","getExposedModule","initialize","appsConfig","options","_b","pluginStoreFeatureFlags","_c","pluginLoaderOptions","_d","pluginStoreOptions","defaultOptions","cacheTimeout","pluginLoader","PluginLoader","sharedScope","getPluginEntryModule","name","window","PluginStore","registerPluginEntryCallback","setLoader","setFeatureFlags","scalprumOptions","setExposedModule","exposedModule","clearPendingInjection","url","pendingInjection","_this","getPendingInjection","res","rej","headers","response","manifest","loadScripts","error_1","Headers","append","fetch","method","ok","json","text","entry","loadPlugin","document","location","origin","extensions","registrationMethod","version","setPendingInjection"],"sourceRoot":""}