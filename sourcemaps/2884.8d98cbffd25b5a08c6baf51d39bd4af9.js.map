{"version":3,"file":"js/2884.1675439987548.381dc42eb06c0e4a3f66.js","mappings":"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","sources":["webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./src/Utils/plugins.ts","webpack:///./src/sdk/createStore.ts"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","export type PluginType = {\n  name: string;\n  pathPrefix?: string;\n};\n\ntype GetActivePlugins = (isBeta: boolean, appName: string) => Promise<PluginType[]>;\n\nexport const getActivePlugins: GetActivePlugins = async (isBeta, appName) => {\n  try {\n    const response = await fetch(`${isBeta ? '/beta' : ''}/apps/${appName}/plugins.json`);\n    const isJson = response.headers.get('content-type')?.includes('application/json');\n    if (!isJson) {\n      throw new Error('plugin data response is not type application/json');\n    }\n    return await response.json();\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.error('Failed to fetch plugin data', e);\n    return [];\n  }\n};\n","import { getActivePlugins } from '../Utils/plugins';\nimport packageInfo from '../../package.json';\nimport { PluginLoader, PluginLoaderOptions, PluginStore } from '@openshift/dynamic-plugin-sdk';\nimport type { To, NavigateOptions } from 'react-router-dom';\n\nconst calculateTo = (to: To) => {\n  if (typeof to === 'string' && !to.startsWith('/hac') && to.startsWith('/')) {\n    return `/hac${to}`;\n  } else if (typeof to !== 'string' && to.pathname && !to.pathname.startsWith('/hac')) {\n    return {\n      ...to,\n      pathname: `/hac${to.pathname}`,\n    };\n  }\n\n  return to;\n};\n\nconst modules: { [name: string]: () => Promise<() => any> } = {\n  '@openshift/dynamic-plugin-sdk-utils': async () => () => require('@openshift/dynamic-plugin-sdk-utils'),\n  '@openshift/dynamic-plugin-sdk': async () => () => require('@openshift/dynamic-plugin-sdk'),\n  '@patternfly/react-core': async () => () => require('@patternfly/react-core'),\n  '@patternfly/react-table': async () => () => require('@patternfly/react-table'),\n  react: async () => () => require('react'),\n  redux: async () => () => require('redux'),\n  'react-helmet': async () => () => require('react-helmet'),\n  'react-i18next': async () => () => require('react-i18next'),\n  '@scalprum/react-core': async () => () => require('@scalprum/react-core'),\n  'react-redux': async () => () => require('react-redux'),\n  'react-router': async () => () => require('react-router'),\n  '@patternfly/quickstarts': async () => () => require('@patternfly/quickstarts'),\n  '@unleash/proxy-client-react': async () => () => require('@unleash/proxy-client-react'),\n  'react-router-dom': async () => () => {\n    // We have to hack our way around react-router-dom\n    // Since we are no longer using basename we have to include `/hac` prefix\n    const reactRouter = require('react-router-dom');\n    return {\n      ...reactRouter,\n      useNavigate: () => {\n        const oldNavigate = reactRouter.useNavigate();\n        return (to: To, options?: NavigateOptions) => {\n          oldNavigate(calculateTo(to), options);\n        };\n      },\n      Link: (props: any) => {\n        const react = require('react');\n        const Cmp = reactRouter.Link;\n        return react.createElement(Cmp, { ...props, to: calculateTo(props.to) });\n      },\n      Navigate: (props: any) => {\n        const react = require('react');\n        const Cmp = reactRouter.Navigate;\n        return react.createElement(Cmp, { ...props, to: calculateTo(props.to) });\n      },\n      NavLink: (props: any) => {\n        const react = require('react');\n        const Cmp = reactRouter.NavLink;\n        return react.createElement(Cmp, { ...props, to: calculateTo(props.to) });\n      },\n    };\n  },\n};\n\nconst sharedScope = Object.keys(modules).reduce(\n  (acc, moduleRequest) => ({\n    ...acc,\n    [moduleRequest]: {\n      // The '*' semver range means \"this shared module matches all requested versions\",\n      // i.e. make sure the plugin always uses the Console-provided shared module version\n      '*': {\n        get: modules[moduleRequest],\n        // Indicates that Console has already loaded the shared module\n        loaded: true,\n      },\n    },\n  }),\n  {},\n);\n\nexport const createStore = () => {\n  const fetchImpl: PluginLoaderOptions['fetchImpl'] = (url, requestInit) => {\n    return fetch(url, requestInit);\n  };\n\n  // TODO: Remove postProcessManifest once all plugins have defaults for loadScripts and registrationMethod\n  const pluginLoader = new PluginLoader({\n    fetchImpl,\n    sharedScope,\n    postProcessManifest: (manifest) => ({\n      ...manifest,\n      loadScripts: manifest.loadScripts ?? ['plugin-entry.js'],\n      registrationMethod: manifest.registrationMethod ?? 'callback',\n    }),\n  });\n  pluginLoader.registerPluginEntryCallback();\n  const pluginStore = new PluginStore();\n  pluginStore.setLoader(pluginLoader);\n  getActivePlugins(window.insights.chrome.isBeta(), packageInfo.insights.appname).then((data) => {\n    data.forEach(({ name: item, pathPrefix = '/api/plugins' }) => {\n      const url = `/beta${pathPrefix}/${item}/`;\n      pluginStore.loadPlugin(url);\n    });\n  });\n  return pluginStore;\n};\nexport const pluginStore = createStore();\n"],"names":["ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","module","exports","shim","props","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","getActivePlugins","isBeta","appName","response","fetch","headers","get","includes","json","e","console","error","calculateTo","to","startsWith","pathname","modules","react","redux","reactRouter","useNavigate","oldNavigate","options","Link","Cmp","createElement","Navigate","NavLink","sharedScope","Object","keys","reduce","acc","moduleRequest","loaded","createStore","pluginLoader","PluginLoader","fetchImpl","url","requestInit","postProcessManifest","manifest","loadScripts","registrationMethod","registerPluginEntryCallback","pluginStore","PluginStore","setLoader","window","insights","chrome","then","data","forEach","item","pathPrefix","loadPlugin"],"sourceRoot":""}