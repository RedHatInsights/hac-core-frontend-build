{"version":3,"file":"js/DynamicRoute.1678804795618.8332e51da154d141d5cf.js","mappings":"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","sources":["webpack:///./node_modules/lodash/camelCase.js","webpack:///./node_modules/lodash/capitalize.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/ErrorState/DefaultErrorMessage.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/ErrorState/ErrorState.js","webpack:///./src/Utils/ProviderWrapper.tsx","webpack:///./src/Routes/DynamicRoute/DynamicRoute.tsx"],"sourcesContent":["var capitalize = require('./capitalize'),\n    createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nmodule.exports = camelCase;\n","var toString = require('./toString'),\n    upperFirst = require('./upperFirst');\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nmodule.exports = capitalize;\n","import React from 'react';\nvar DefaultErrorMessage = function () {\n    var redirectLink = 'https://access.redhat.com/support';\n    var statusLink = 'https://status.redhat.com';\n    return (React.createElement(React.Fragment, null,\n        \"If the problem persists, contact \",\n        React.createElement(\"a\", { href: redirectLink }, \"Red Hat Support\"),\n        \" or check our \",\n        React.createElement(\"a\", { href: statusLink }, \" status page\"),\n        \" for known outages.\"));\n};\nexport default DefaultErrorMessage;\n//# sourceMappingURL=DefaultErrorMessage.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons/';\nimport DefaultErrorMessage from './DefaultErrorMessage';\nimport { Title, EmptyState, EmptyStateVariant, EmptyStateIcon, EmptyStateBody, Button, Stack, StackItem, } from '@patternfly/react-core';\nimport '../ErrorState/error-state.css';\nvar ErrorState = function (_a) {\n    var _b = _a.errorTitle, errorTitle = _b === void 0 ? 'Something went wrong' : _b, errorDescription = _a.errorDescription, props = __rest(_a, [\"errorTitle\", \"errorDescription\"]);\n    return (React.createElement(EmptyState, __assign({ variant: EmptyStateVariant.large }, props, { className: \"ins-c-error-state\" }),\n        React.createElement(EmptyStateIcon, { icon: ExclamationCircleIcon }),\n        React.createElement(Title, { headingLevel: \"h4\", size: \"lg\" }, errorTitle),\n        React.createElement(EmptyStateBody, null,\n            React.createElement(Stack, null,\n                !errorDescription && React.createElement(StackItem, null, \"There was a problem processing the request. Please try again.\"),\n                React.createElement(StackItem, null, errorDescription || React.createElement(DefaultErrorMessage, null)))),\n        document.referrer ? (React.createElement(Button, { variant: \"primary\", onClick: function () { return history.back(); } }, \"Return to last page\")) : (React.createElement(Button, { variant: \"primary\", component: \"a\", href: \".\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Go to home page\"))));\n};\nexport default ErrorState;\n//# sourceMappingURL=ErrorState.js.map","import * as React from 'react';\n\ntype ProviderWrapperProps = {\n  provider: React.Provider<unknown>;\n  useValueHook: () => unknown;\n  children?: React.ReactNode;\n};\n\nconst ProviderWrapper: React.FC<ProviderWrapperProps> = ({ provider: Provider, useValueHook, children }) => {\n  const value = useValueHook();\n  return <Provider value={value}>{children}</Provider>;\n};\n\nexport default React.memo(ProviderWrapper);\n","import * as React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport { useExtensions, useResolvedExtensions } from '@openshift/dynamic-plugin-sdk';\nimport { isRoutePage as isDynamicRoutePage, RoutePage as DynamicRoutePage, isContextProvider } from '@openshift/dynamic-plugin-sdk-extensions';\nimport { Bullseye, Spinner, PageSection } from '@patternfly/react-core';\nimport { ErrorState } from '@redhat-cloud-services/frontend-components/ErrorState';\nimport camelCase from 'lodash/camelCase';\nimport ProviderWrapper from '../../Utils/ProviderWrapper';\n\nconst Loader = () => (\n  <Bullseye>\n    <Spinner />\n  </Bullseye>\n);\n\ntype DynamicRouteProps = {\n  location?: Location;\n};\n\nconst DynamicRoute: React.FC<DynamicRouteProps> = () => {\n  const dynamicRoutePages = useExtensions<DynamicRoutePage>(isDynamicRoutePage);\n  const [contextProviderExtensions, providersResolved] = useResolvedExtensions(isContextProvider);\n\n  const routes = React.useMemo(\n    () =>\n      dynamicRoutePages.flatMap(({ properties: { component, path, exact, ...currRoute }, pluginName, uid }) => {\n        return (Array.isArray(path) ? path : [path]).map((currPath) => ({\n          ...currRoute,\n          path: !exact ? `${currPath}/*` : currPath,\n          uid,\n          className: camelCase(pluginName),\n          Component: React.lazy(async () => {\n            try {\n              return {\n                default: (await component()) || Loader,\n              };\n            } catch (e) {\n              // eslint-disable-next-line no-console\n              console.error(e);\n              return {\n                default: () => (\n                  <Bullseye>\n                    <ErrorState errorTitle={`There was an error while loading ${pluginName} plugin.`} />\n                  </Bullseye>\n                ),\n              };\n            }\n          }),\n        }));\n      }),\n    [dynamicRoutePages],\n  );\n\n  return (\n    <React.Suspense fallback={null}>\n      {providersResolved &&\n        contextProviderExtensions.reduce(\n          (children, extension) => (\n            <ProviderWrapper key={extension.uid} {...extension.properties}>\n              {children}\n            </ProviderWrapper>\n          ),\n          <Routes>\n            {routes.map(({ className, Component, uid, ...currCoute }) => (\n              <Route\n                {...currCoute}\n                key={uid}\n                element={\n                  <PageSection className={`${className} pf-m-no-padding`}>\n                    <Component />\n                  </PageSection>\n                }\n              />\n            ))}\n          </Routes>,\n        )}\n    </React.Suspense>\n  );\n};\n\nexport default DynamicRoute;\n"],"names":["capitalize","camelCase","createCompounder","result","word","index","toLowerCase","module","exports","toString","upperFirst","string","href","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","_a","_b","errorTitle","errorDescription","props","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","EmptyState","variant","EmptyStateVariant","className","EmptyStateIcon","icon","Title","headingLevel","size","EmptyStateBody","Stack","StackItem","document","referrer","Button","onClick","history","back","component","target","rel","provider","Provider","useValueHook","children","value","Loader","Bullseye","Spinner","dynamicRoutePages","useExtensions","contextProviderExtensions","providersResolved","useResolvedExtensions","isContextProvider","routes","flatMap","properties","path","exact","currRoute","pluginName","uid","Array","isArray","map","currPath","Component","default","console","error","fallback","reduce","extension","key","Routes","currCoute","Route","element","PageSection"],"sourceRoot":""}