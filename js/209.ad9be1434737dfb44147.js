"use strict";(self.webpackChunkhac_core=self.webpackChunkhac_core||[]).push([[209],{55140:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(4942),o=n(54025);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const a=function(e){var t,n=(0,o.useScalprum)(),r=(null===(t=n.api)||void 0===t?void 0:t.chrome)||{};return r=c(c({},r),{},{initialized:n.initialized}),"function"==typeof e?e(r):r}},41209:(e,t,n)=>{n.r(t),n.d(t,{useNavigation:()=>p,default:()=>d});var r=n(93264),o=n(89142),i=n(55140),c=n(4147),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))};const s=["console.navigation/href","console.navigation/section"],u=e=>"fulfilled"===e.status&&Boolean(e.value),l=e=>s.includes(e.type),f=({dynamicNav:e,currentNamespace:t,base:n,isBeta:r})=>a(void 0,void 0,void 0,(function*(){const[i,s]=e.split("/");let f,p=[];try{p=yield((e="",t=(()=>!1))=>a(void 0,void 0,void 0,(function*(){const n=yield(0,o.w)(t(),c.Kn.b);return(yield Promise.allSettled(n.flatMap((({name:t,pathPrefix:n="/api/plugins"})=>a(void 0,void 0,void 0,(function*(){const r=`${e}${n}/${t}/plugin-manifest.json`,o=yield fetch(r);if(200!==o.status){const e=`${r} - ${o.status} - ${o.statusText}`;throw console.error(e),new Error(e)}return(yield o.json()).extensions})))))).filter(u).map((({value:e})=>e)).flat().filter(l)})))(n,r),f=(([e,t],n,r)=>r.filter((({type:e,properties:n})=>e.includes("console.navigation/href")&&n.section===t)).map((r=>({appId:e,href:`/${n}${t?`/${t}`:""}${r.properties.href}`,title:r.properties.name}))))([i,s],t,p),0===f.length&&(f=[{isHidden:!0}])}catch(e){f=[{isHidden:!0}],console.error("Problem fetching extensions",e)}const{properties:d}=p.find((({type:e,properties:t})=>"console.navigation/section"===e&&t.id===s))||{};return d?{expandable:!0,title:d.name,routes:f}:f})),p=({dynamicNav:e,currentNamespace:t})=>{const[n,o]=r.useState(),c=r.useRef(!1),{isBeta:a}=(0,i.Z)();return r.useEffect((()=>(e&&f({dynamicNav:e,currentNamespace:t,base:a()?"/beta":"",isBeta:a}).then((e=>{c.current||o(e)})),()=>{c.current=!0})),[e,t]),n},d=f},89142:(e,t,n)=>{n.d(t,{w:()=>r});const r=(e,t)=>{return n=void 0,r=void 0,i=function*(){try{return(yield fetch(`${e?"/beta":""}/apps/${t}/plugins.json`)).json()}catch(e){return console.error("Failed to fetch plugin data",e),[]}},new((o=void 0)||(o=Promise))((function(e,t){function c(e){try{s(i.next(e))}catch(e){t(e)}}function a(e){try{s(i.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(c,a)}s((i=i.apply(n,r||[])).next())}));var n,r,o,i}},4942:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},4147:e=>{e.exports=JSON.parse('{"Kn":{"b":"hac-core"}}')}}]);
//# sourceMappingURL=../sourcemaps/209.961a9365f82dea4bbc8a35bb33b900a4.js.map