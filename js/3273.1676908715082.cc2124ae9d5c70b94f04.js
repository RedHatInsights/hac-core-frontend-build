(self.webpackChunkhac_core=self.webpackChunkhac_core||[]).push([[3273],{23273:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PrefetchContext:()=>s,PrefetchProvider:()=>f,ScalprumComponent:()=>w,ScalprumContext:()=>p,ScalprumProvider:()=>P,default:()=>P,useLoadModule:()=>x,useModule:()=>k,usePrefetch:()=>M,useScalprum:()=>h});var r=n(93264),o=n.n(r),a=n(13422),c=n(18446),u=n.n(c);function i(e,t){return n=this,r=void 0,c=function(){var n,r,o;return function(e,t){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(c){switch(c.label){case 0:return n=(0,a.getScalprum)().pluginStore,r=void 0,o=(0,a.getCachedModule)(e,t).cachedModule,(r=o)?[3,2]:[4,n.getExposedModule(e,t)];case 1:r=c.sent(),c.label=2;case 2:return[2,{prefetch:r.prefetch,component:r.default}]}}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{i(c.next(e))}catch(e){t(e)}}function u(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,u)}i((c=c.apply(n,r||[])).next())}));var n,r,o,c}const l=function(e){var t=e.error,n=e.errorInfo;return o().createElement("div",null,o().createElement("h2",null,"Error loading component"),(null==t?void 0:t.message)&&o().createElement("p",null,t.message),(null==n?void 0:n.componentStack)?o().createElement("pre",null,null==n?void 0:n.componentStack):(null==t?void 0:t.stack)&&o().createElement("pre",null,t.stack))};var s=(0,r.createContext)(void 0),f=function(e){var t=e.children,n=e.prefetchPromise;return o().createElement(s.Provider,{value:n},t)},p=(0,r.createContext)({initialized:!1,config:{},api:{},pluginStore:{}});function h(e){var t=(0,r.useContext)(p);return"function"==typeof e?e(t):t}var d,v=(d=function(e,t){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},d(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},m=function(e){var t=e.fallback,n=void 0===t?"loading":t,c=e.scope,u=e.module,l=e.ErrorComponent,s=e.processor,p=e.innerRef,d=e.skipCache,v=void 0!==d&&d,m=b(e,["fallback","scope","module","ErrorComponent","processor","innerRef","skipCache"]),g=(0,a.getAppData)(c).manifestLocation,w=(0,r.useReducer)((function(e){return e+1}),0),E=w[0],S=w[1],P=(0,r.useState)(void 0),k=P[0],x=P[1],C=(0,r.useState)(),O=C[0],M=C[1],j=(0,r.useState)(),R=j[0],A=j[1];if(R)throw R;var _=h();(0,r.useEffect)((function(){var e=c+"#"+u,t=(0,a.getCachedModule)(c,u),n=t.cachedModule,r=t.prefetchPromise;M(r);var f,p=!0,h=function(e){p&&(A(e),x((function(){return function(t){return o().createElement(l,y({error:e},t))}})))},d=(0,a.getPendingLoading)(c,u);if(!n&&d)d.finally((function(){S()}));else if(n)try{if(p&&x((function(){return n.default})),f=n.prefetch){var v=(0,a.getPendingPrefetch)(e)||f(_);M(v),(0,a.handlePrefetchPromise)(e,v)}}catch(e){h(e)}else if(g){var b=(0,a.processManifest)(g,c,u,s).then((function(){return f=function(e,t,n,r){return o=this,a=void 0,u=function(){var o,a,c;return function(e,t){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(u){switch(u.label){case 0:return[4,i(e,t)];case 1:return o=u.sent(),a=o.prefetch,c=o.component,n&&r((function(){return c})),[2,a]}}))},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{i(u.next(e))}catch(e){t(e)}}function r(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(n,r)}i((u=u.apply(o,a||[])).next())}));var o,a,c,u}(c,u,p,x),f.then((function(t){if(t){var n=(0,a.getPendingPrefetch)(e)||t(_);M(n),(0,a.handlePrefetchPromise)(e,n)}})),f})).catch(h);(0,a.setPendingLoading)(c,u,b)}return function(){p=!1,A(void 0)}}),[c,v,E]);var D=(0,r.useRef)(!1);return(0,r.useEffect)((function(){D.current&&M(void 0),D.current=!0}),[c,u]),o().createElement(f,{prefetchPromise:O},o().createElement(r.Suspense,{fallback:n},k?o().createElement(k,y({ref:p},m)):n))},g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1},n.selfRepairAttempt=!1,n}return v(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.shouldComponentUpdate=function(e,t){return this.state.hasError!==t.hasError||!u()(e,this.props)||!u()(t,this.state)},t.prototype.componentDidCatch=function(e,t){!0===this.selfRepairAttempt?(console.error("Scalprum encountered an error!",(null==e?void 0:e.message)||e),this.setState({error:e,errorInfo:t})):(console.warn("Scalprum failed to render component. Attempting to skip module cache."),this.setState({repairAttempt:!0}))},t.prototype.render=function(){var e=this,t=this.props,n=t.ErrorComponent,r=void 0===n?o().createElement(l,y({},this.state)):n,a=b(t,["ErrorComponent"]),c=function(t){return o().cloneElement(r,y(y({},e.state),t))};return this.state.repairAttempt&&!this.selfRepairAttempt?(this.selfRepairAttempt=!0,o().createElement(m,y({},a,{skipCache:!0,ErrorComponent:c}))):this.state.hasError&&this.selfRepairAttempt?o().cloneElement(r,y({},this.state)):o().createElement(m,y({},a,{ErrorComponent:c}))},t.defaultProps={ErrorComponent:o().createElement(l,null)},t}(o().Component),w=o().forwardRef((function(e,t){return o().createElement(g,y({},e,{innerRef:t}))})),E=n(5764),S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},S.apply(this,arguments)};function P(e){var t=e.config,n=e.children,c=e.api,u=e.pluginSDKOptions,i=(0,r.useMemo)((function(){return(0,a.initialize)(S({appsConfig:t,api:c},u))}),[]);return o().createElement(p.Provider,{value:{config:t,api:c,initialized:!0,pluginStore:i.pluginStore}},o().createElement(E.PluginStoreProvider,{store:i.pluginStore},n))}function k(e,t,n){var o=this,c=(0,r.useState)(n),u=c[0],i=c[1],l=(0,a.getScalprum)().pluginStore,s=(0,r.useCallback)((function(){return n=o,r=void 0,u=function(){var n,r;return function(e,t){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(o){switch(o.label){case 0:if(n=(0,a.getCachedModule)(e,t).cachedModule)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,l.getExposedModule(e,t)];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),console.error('Module not initialized! Module "'+t+'" was not found in "'+e+'" webpack scope. Make sure the remote container is loaded?'),[3,4];case 4:return[3,6];case 5:r=n,o.label=6;case 6:return i((function(){return r})),[2]}}))},new((c=void 0)||(c=Promise))((function(e,t){function o(e){try{i(u.next(e))}catch(e){t(e)}}function a(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof c?n:new c((function(e){e(n)}))).then(o,a)}i((u=u.apply(n,r||[])).next())}));var n,r,c,u}),[e,t]);return(0,r.useEffect)((function(){s()}),[e,t]),u}function x(e,t){var n=this,o=e.scope,c=e.module,u=e.processor,i=(0,a.getAppData)(o).manifestLocation,l=(0,r.useState)(t),s=l[0],f=l[1],p=(0,r.useState)(),h=p[0],d=p[1],v=(0,a.getCachedModule)(o,c).cachedModule,y=(0,r.useRef)(!0),b=(0,a.getScalprum)().pluginStore;return(0,r.useEffect)((function(){if(y.current)if(v)try{b.getExposedModule(o,c).then((function(e){f((function(){return e}))}))}catch(e){d((function(){return e}))}else i&&(0,a.processManifest)(i,o,c,u).then((function(){return e=n,t=void 0,a=function(){var e;return function(e,t){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(t){switch(t.label){case 0:return[4,b.getExposedModule(o,c)];case 1:return e=t.sent(),f((function(){return e})),[2]}}))},new((r=void 0)||(r=Promise))((function(n,o){function c(e){try{i(a.next(e))}catch(e){o(e)}}function u(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,u)}i((a=a.apply(e,t||[])).next())}));var e,t,r,a})).catch((function(e){d((function(){return e}))}));return function(){y.current=!1}}),[o,v]),[s,h]}var C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},C.apply(this,arguments)},O={data:void 0,ready:!1,error:void 0},M=function(){var e=(0,r.useState)(O),t=e[0],n=e[1],o=(0,r.useContext)(s);return(0,r.useEffect)((function(){t.ready=!1,null==o||o.then((function(e){n(C(C({},t),{error:void 0,data:e,ready:!0}))})).catch((function(e){n(C(C({},t),{ready:!0,data:void 0,error:e}))}))}),[o]),t}},18446:(e,t,n)=>{var r=n(90939);e.exports=function(e,t){return r(e,t)}}}]);
//# sourceMappingURL=../sourcemaps/3273.eca3c946bc56719421314cccf51097f6.js.map