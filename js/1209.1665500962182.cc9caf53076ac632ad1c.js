"use strict";(self.webpackChunkhac_core=self.webpackChunkhac_core||[]).push([[1209],{55140:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(54025),o=function(){return o=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},o.apply(this,arguments)};const r=function(e){var n,t=(0,i.useScalprum)(),r=(null===(n=t.api)||void 0===n?void 0:n.chrome)||{};return r=o(o({},r),{initialized:t.initialized}),"function"==typeof e?e(r):r}},41209:(e,n,t)=>{t.r(n),t.d(n,{useNavigation:()=>v,default:()=>h});var i=t(93264),o=t(89142),r=t(40195),a=t(55140),c=t(4147),s=function(e,n,t,i){return new(t||(t=Promise))((function(o,r){function a(e){try{s(i.next(e))}catch(e){r(e)}}function c(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((i=i.apply(e,n||[])).next())}))};const u=["console.navigation/href","console.navigation/section","core.navigation/href","core.navigation/section"],l=e=>"fulfilled"===e.status&&Boolean(e.value),f=e=>u.includes(e.type),p=e=>["console.navigation/href","core.navigation/href"].includes(e.type),d=({dynamicNav:e,currentNamespace:n,base:t,isBeta:i})=>s(void 0,void 0,void 0,(function*(){const[a,u]=e.split("/");let d=[],v=[];try{d=yield((e="",n=(()=>!1))=>s(void 0,void 0,void 0,(function*(){const t=yield(0,o.w)(n(),c.Kn.b);return(yield Promise.allSettled(t.flatMap((({name:n,pathPrefix:t="/api/plugins"})=>s(void 0,void 0,void 0,(function*(){const i=`${e}${t}/${n}/plugin-manifest.json`,o=yield fetch(i);if(200!==o.status){const e=`${i} - ${o.status} - ${o.statusText}`;throw console.error(e),new Error(e)}return(yield o.json()).extensions})))))).filter(l).map((({value:e})=>e)).flat().filter(f)})))(t,i),v=(([e,n],t,i)=>i.filter(p).filter((({properties:{section:e,href:t}},i,o)=>e===n&&((e,n,t)=>e.findIndex((({properties:{href:e}})=>e===t))===n)(o,i,t))).map((({properties:{name:i,href:o}})=>({appId:e,href:`/${t}${n?`/${n}`:""}${o}`,title:i}))))([a,u],n,d),0===v.length&&(v=[{isHidden:!0}])}catch(e){v=[{isHidden:!0}],console.error("Problem fetching extensions",e)}const{properties:h}=d.find((e=>(0,r.isNavSection)(e)))||{};return h?{expandable:!0,title:h.name,routes:v}:v})),v=({dynamicNav:e,currentNamespace:n})=>{const[t,o]=i.useState(),r=i.useRef(!1),{isBeta:c}=(0,a.Z)();return i.useEffect((()=>(e&&d({dynamicNav:e,currentNamespace:n,base:c()?"/beta":"",isBeta:c}).then((e=>{r.current||o(e)})),()=>{r.current=!0})),[e,n,c]),t},h=d},89142:(e,n,t)=>{t.d(n,{w:()=>i});const i=(e,n)=>{return t=void 0,i=void 0,r=function*(){var t;try{const i=yield fetch(`${e?"/beta":""}/apps/${n}/plugins.json`);if(!(null===(t=i.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json")))throw new Error("plugin data response is not type application/json");return yield i.json()}catch(e){return console.error("Failed to fetch plugin data",e),[]}},new((o=void 0)||(o=Promise))((function(e,n){function a(e){try{s(r.next(e))}catch(e){n(e)}}function c(e){try{s(r.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,c)}s((r=r.apply(t,i||[])).next())}));var t,i,o,r}},4147:e=>{e.exports=JSON.parse('{"Kn":{"b":"hac-core"}}')}}]);
//# sourceMappingURL=../sourcemaps/1209.c82b4fff54c90aef80351d68086fe536.js.map