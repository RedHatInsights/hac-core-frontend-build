(self.webpackChunkhac_core=self.webpackChunkhac_core||[]).push([[624],{25308:e=>{e.exports={}},78472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s=n(93264),o=n(16530),r=n(97066),i=n(96733);const a=()=>s.createElement(r.EmptyState,null,s.createElement(r.EmptyStateIcon,{icon:i.ZP}),s.createElement(r.Title,{headingLevel:"h4",size:"lg"},"Empty Route"),s.createElement(r.EmptyStateBody,null,s.createElement("p",null,"Nothing to see here."))),c=()=>s.createElement(s.Suspense,{fallback:s.createElement(r.Bullseye,null,s.createElement(r.Spinner,null))},s.createElement(o.Switch,null,s.createElement(o.Route,{path:"/",component:a}),s.createElement(o.Route,null,s.createElement(o.Redirect,{to:"/"}))));var l=n(8738),u=n(24685),d=n(83215);const p=()=>{const e=(0,o.useHistory)();return s.useEffect((()=>{var t,n,s,o;(0,l.JH)().register({notifications:d.ee}),null===(n=null===(t=window.insights)||void 0===t?void 0:t.chrome)||void 0===n||n.init(),null===(s=window.insights)||void 0===s||s.chrome.identifyApp("hac");const r=null===(o=window.insights)||void 0===o?void 0:o.chrome.on("APP_NAVIGATION",(t=>e.push(`/${t.navId}`)));return()=>{r()}}),[]),s.createElement(s.Fragment,null,s.createElement(u.ZP,null),s.createElement(c,null))}},93610:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var s=n(93264),o=n(94605),r=n(34446),i=n(89442);const a=(...e)=>{const t=(0,o.M)(...e),[n,a]=s.useState([]),[c,l]=s.useState(!1),[u,d]=s.useState([]);return s.useEffect((()=>{let e=!1;return(0,i.O)(t.map((e=>(0,r.H0)(e)))).then((([t,n])=>{e||(a(t),d(n),l(!0),n.length>0&&console.error("Detected errors while resolving Console extensions",n))})),()=>{e=!0}}),[t]),[n,c,u]}},34446:(e,t,n)=>{"use strict";n.d(t,{bL:()=>u,H0:()=>d});var s=n(96486),o=n(11923),r=n(89442),i=function(e,t,n,s){return new(n||(n=Promise))((function(o,r){function i(e){try{c(s.next(e))}catch(e){r(e)}}function a(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((s=s.apply(e,t||[])).next())}))};const a=Symbol("CodeRef"),c=e=>s.isPlainObject(e)&&s.isEqual(Object.getOwnPropertyNames(e),["$codeRef"])&&"string"==typeof e.$codeRef,l=e=>s.isFunction(e)&&s.isEqual(Object.getOwnPropertySymbols(e),[a])&&!0===e[a],u=(e,t,n,r)=>s.cloneDeep(e).map((e=>((0,o.H)(e.properties,c,((e,s,o)=>{const c=(e=>(e[a]=!0,e))((()=>i(void 0,void 0,void 0,(function*(){return((e,t,n,s)=>i(void 0,void 0,void 0,(function*(){const[o,r]=(e=>{const t=e.match(/^([^.]+)(?:\.(.+)){0,1}$/);return t?[t[1],t[2]||"default"]:[]})(e.$codeRef);let i;if(!o)return console.error(`Malformed code reference '${e.$codeRef}' of plugin ${n}`),s(),null;try{i=(yield t.get(o))()}catch(e){return console.error(`Failed to load module '${o}' of plugin ${n}`,e),s(),null}return i[r]?i[r]:(console.error(`Missing module export '${o}.${r}' of plugin ${n}`),s(),null)})))(e,t,n,r)}))));o[s]=Object.defineProperty(c,"name",{value:`${n}-${e.$codeRef}`})})),e))),d=e=>i(void 0,void 0,void 0,(function*(){const t=[];return(0,o.H)(e.properties,l,((e,n,s)=>{t.push(e().then((e=>{s[n]=e})))})),yield(0,r.O)(t),e}))},73080:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HealthState:()=>Q,UserPreferenceFieldType:()=>re,consoleFetch:()=>le,consoleFetchJSON:()=>ue,consoleFetchText:()=>de,isActionFilter:()=>se,isActionGroup:()=>ne,isActionProvider:()=>ee,isAddAction:()=>s,isAddActionGroup:()=>o,isAlertAction:()=>J,isCatalogItemFilter:()=>a,isCatalogItemProvider:()=>i,isCatalogItemType:()=>r,isClusterGlobalConfig:()=>c,isContextProvider:()=>l,isCreateResource:()=>oe,isDashboardsCard:()=>d,isDashboardsInventoryItemGroup:()=>P,isDashboardsOverviewHealthOperator:()=>g,isDashboardsOverviewHealthPrometheusSubsystem:()=>p,isDashboardsOverviewHealthResourceSubsystem:()=>y,isDashboardsOverviewHealthSubsystem:()=>N,isDashboardsOverviewHealthURLSubsystem:()=>v,isDashboardsOverviewInventoryItem:()=>b,isDashboardsOverviewInventoryItemReplacement:()=>E,isDashboardsOverviewPrometheusActivity:()=>D,isDashboardsOverviewResourceActivity:()=>A,isDashboardsTab:()=>u,isFeatureFlag:()=>S,isFileUpload:()=>O,isHrefNavItem:()=>T,isModelFeatureFlag:()=>x,isModelMetadata:()=>z,isNavItem:()=>F,isNavSection:()=>I,isPVCAlert:()=>V,isPVCCreateProp:()=>M,isPVCDelete:()=>Z,isPVCStatus:()=>W,isPerspective:()=>U,isProjectDashboardInventoryItem:()=>R,isReduxReducer:()=>_,isResolvedDashboardsOverviewHealthOperator:()=>w,isResolvedDashboardsOverviewHealthPrometheusSubsystem:()=>h,isResolvedDashboardsOverviewHealthResourceSubsystem:()=>f,isResolvedDashboardsOverviewHealthURLSubsystem:()=>m,isResourceActionProvider:()=>te,isResourceClusterNavItem:()=>$,isResourceDetailsPage:()=>H,isResourceListPage:()=>j,isResourceNSNavItem:()=>k,isResourceTabPage:()=>q,isRoutePage:()=>G,isSeparator:()=>L,isStandaloneRoutePage:()=>C,isStorageProvider:()=>X,isTelemetryListener:()=>B,isUserPreferenceGroup:()=>ae,isUserPreferenceItem:()=>ie,isYAMLTemplate:()=>K,useActivePerspective:()=>pe,useResolvedExtensions:()=>ce,withActivePerspective:()=>he});const s=e=>"dev-console.add/action"===e.type,o=e=>"dev-console.add/action-group"===e.type,r=e=>"console.catalog/item-type"===e.type,i=e=>"console.catalog/item-provider"===e.type,a=e=>"console.catalog/item-filter"===e.type,c=e=>"console.global-config"===e.type,l=e=>"console.context-provider"===e.type,u=e=>"console.dashboards/tab"===e.type,d=e=>"console.dashboards/card"===e.type,p=e=>"console.dashboards/overview/health/prometheus"===e.type,h=e=>"console.dashboards/overview/health/prometheus"===e.type,v=e=>"console.dashboards/overview/health/url"===e.type,m=e=>"console.dashboards/overview/health/url"===e.type,y=e=>"console.dashboards/overview/health/resource"===e.type,f=e=>"console.dashboards/overview/health/resource"===e.type,g=e=>"console.dashboards/overview/health/operator"===e.type,w=e=>"console.dashboards/overview/health/operator"===e.type,P=e=>"console.dashboards/overview/inventory/item/group"===e.type,b=e=>"console.dashboards/overview/inventory/item"===e.type,E=e=>"console.dashboards/overview/inventory/item/replacement"===e.type,R=e=>"console.dashboards/project/overview/item"===e.type,A=e=>"console.dashboards/overview/activity/resource"===e.type,D=e=>"console.dashboards/overview/prometheus/activity/resource"===e.type,N=e=>v(e)||p(e)||y(e)||g(e),S=e=>"console.flag"===e.type,x=e=>"console.flag/model"===e.type,O=e=>"console.file-upload"===e.type,T=e=>"console.navigation/href"===e.type,k=e=>"console.navigation/resource-ns"===e.type,$=e=>"console.navigation/resource-cluster"===e.type,L=e=>"console.navigation/separator"===e.type,I=e=>"console.navigation/section"===e.type,F=e=>T(e)||k(e)||$(e),G=e=>"console.page/route"===e.type,C=e=>"console.page/route/standalone"===e.type,j=e=>"console.page/resource/list"===e.type,H=e=>"console.page/resource/details"===e.type,q=e=>"console.page/resource/tab"===e.type,U=e=>"console.perspective"===e.type,M=e=>"console.pvc/create-prop"===e.type,V=e=>"console.pvc/alert"===e.type,W=e=>"console.pvc/status"===e.type,Z=e=>"console.pvc/delete"===e.type,_=e=>"console.redux-reducer"===e.type,z=e=>"console.resource-metadata"===e.type,B=e=>"console.telemetry/listener"===e.type,K=e=>"console.yaml-template"===e.type,J=e=>"console.alert-action"===e.type;var Y,Q;!function(e){e.WARN="WARN",e.ERROR="ERROR",e.PROGRESS="PROGRESS",e.NOT_MAPPED="NOT_MAPPED",e.UNKNOWN="UNKNOWN"}(Y||(Y={})),function(e){e.OK="OK",e.ERROR="ERROR",e.WARNING="WARNING",e.LOADING="LOADING",e.UNKNOWN="UNKNOWN",e.UPDATING="UPDATING",e.PROGRESS="PROGRESS",e.UPGRADABLE="UPGRADABLE",e.NOT_AVAILABLE="NOT_AVAILABLE"}(Q||(Q={}));const X=e=>"console.storage-provider"===e.type,ee=e=>"console.action/provider"===e.type,te=e=>"console.action/resource-provider"===e.type,ne=e=>"console.action/group"===e.type,se=e=>"console.action/filter"===e.type,oe=e=>"console.resource/create"===e.type;var re;!function(e){e.dropdown="dropdown",e.checkbox="checkbox",e.custom="custom"}(re||(re={}));const ie=e=>"console.user-preference/item"===e.type,ae=e=>"console.user-preference/group"===e.type,ce=n(93610).i,le=n(13455).cz,ue=n(13455).y7,de=n(13455).ks,pe=n(61024).Z,he=n(95636).Z},52241:()=>{},61024:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(93264);const o=s.createContext({}),r=()=>{const{activePerspective:e,setActivePerspective:t}=(0,s.useContext)(o);return[e,t]}},95636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(93264),o=n(61024);const r=e=>t=>{const[n,r]=(0,o.Z)();return s.createElement(e,Object.assign({},t,{activePerspective:n,setActivePerspective:r}))}},13455:(e,t,n)=>{"use strict";n.d(t,{cz:()=>h,y7:()=>m,ks:()=>y});var s=n(96486);class o extends Error{constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,Object.setPrototypeOf(this,new.target.prototype)}}class r extends o{constructor(e,t,n,s){super(e),this.code=t,this.response=n,this.json=s}static fromCode(e){return new r(r.messages[e],e)}}r.messages={400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",510:"Not Extended",511:"Network Authentication Required"};class i extends o{constructor(e,t){super(`Call to ${e} timed out after ${t}ms.`),this.url=e,this.ms=t}}class a extends o{}const c="csrf-token=",l=(e,t,n,s)=>{return o=void 0,i=void 0,l=function*(){if(e.ok)return e;if(s&&429===e.status)throw new a;401===e.status&&(e=>{new RegExp(`^${window.SERVER_FLAGS.basePath}api/kubernetes/`).test(e)&&!new RegExp(`^${window.SERVER_FLAGS.basePath}api/kubernetes/api/v1/proxy/`).test(e)&&new RegExp(`^${window.SERVER_FLAGS.basePath}api/kubernetes/api/v1/namespaces/\\w+/services/\\w+/proxy/`).test(e)})(t);const o=e.headers.get("content-type");if(!o||-1===o.indexOf("json"))throw new r(e.statusText,e.status,e);return 403===e.status?e.json().then((t=>{throw new r(t.message||"Access denied due to cluster policy.",e.status,e,t)})):e.json().then((t=>{var o,i,c;if(s&&"POST"===n&&409===e.status&&["resourcequotas","clusterresourcequotas"].includes(null===(o=t.details)||void 0===o?void 0:o.kind))throw new a;const l=null===(c=null===(i=t.details)||void 0===i?void 0:i.causes)||void 0===c?void 0:c[0];let u;throw l&&(u=`Error "${l.message}" for field "${l.field}".`),u||(u=t.message),u||(u=t.error),u||(u=e.statusText),new r(u,e.status,e,t)}))},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{r(l.next(e))}catch(e){t(e)}}function s(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(n,s)}r((l=l.apply(o,i||[])).next())}));var o,i,c,l};var u=function(e,t,n,s){return new(n||(n=Promise))((function(o,r){function i(e){try{c(s.next(e))}catch(e){r(e)}}function a(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((s=s.apply(e,t||[])).next())}))};const d={headers:{},credentials:"same-origin"},p=(e,t,n,o)=>{const r=s.defaultsDeep({},d,t);"GET"!==r.method&&(r.headers["X-CSRFToken"]=document&&document.cookie&&document.cookie.split(";").map((e=>s.trim(e))).filter((e=>e.startsWith(c))).map((e=>e.slice(c.length))).pop()),e.indexOf("://")>=0&&(delete r.headers.Authorization,delete r.headers["X-CSRFToken"]);const a=fetch(e,r).then((t=>l(t,e,r.method,o)));if(n<1)return a;const u=new Promise(((t,s)=>setTimeout((()=>s(new i(e,n))),n)));return Promise.race([a,u])},h=(e,t={},n=6e4)=>u(void 0,void 0,void 0,(function*(){let s,o=0,r=!0;for(;r;){r=!1,o++;try{s=yield p(e,t,n,o<3)}catch(e){if(!(e instanceof a))throw e;r=!0}}return s})),v=(e,t="GET",n={},o)=>u(void 0,void 0,void 0,(function*(){const r=s.defaultsDeep({method:t},n,{headers:{}}),i=yield h(e,r,o),a=yield i.text(),c="text/plain"===i.headers.get("Content-Type");return a?c||!i.ok?a:JSON.parse(a):c?"":{}})),m=(e,t="GET",n={},o)=>{const r=s.defaultsDeep({},n,{headers:{Accept:"application/json"}});return v(e,t,r,o)},y=(e,t={},n)=>v(e,"GET",t,n),f=(e,t,n=null,o={},r)=>{const i={headers:{Accept:"application/json","Content-Type":`application/${"PATCH"===t?"json-patch+json":"json"};charset=UTF-8`}};return n&&(i.body=JSON.stringify(n)),m(e,t,s.defaultsDeep(i,o),r)};m.delete=(e,t=null,n={},s)=>t?f(e,"DELETE",t,n,s):m(e,"DELETE",n,s),m.post=(e,t,n={},s)=>f(e,"POST",t,n,s),m.put=(e,t,n={},s)=>f(e,"PUT",t,n,s),m.patch=(e,t,n={},s)=>f(e,"PATCH",t,n,s)},11923:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var s=n(96486);const o=(e,t,n)=>{const r=(e,r,i)=>{t(e)?n(e,r,i):(e=>s.isPlainObject(e)&&!e.$$typeof)(e)&&o(e,t,n)};s.forOwn(e,((e,t,n)=>{Array.isArray(e)?e.forEach(((t,n)=>{r(t,n.toString(),e)})):r(e,t,n)}))}},89442:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});const s=e=>{return t=void 0,n=void 0,o=function*(){return[(t=yield Promise.allSettled(e)).filter((e=>"fulfilled"===e.status)).map((e=>e.value)),t.filter((e=>"rejected"===e.status)).map((e=>e.reason)),t];var t},new((s=void 0)||(s=Promise))((function(e,r){function i(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(i,a)}c((o=o.apply(t,n||[])).next())}));var t,n,s,o}},90791:(e,t,n)=>{"use strict";n.d(t,{n:()=>w});var s=n(93264),o=n(96486),r=n(67745),i=n(34446),a=function(e,t,n,s){return new(n||(n=Promise))((function(o,r){function i(e){try{c(s.next(e))}catch(e){r(e)}}function a(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((s=s.apply(e,t||[])).next())}))};const c=e=>{e.override({"@openshift-console/dynamic-plugin-sdk":()=>a(void 0,void 0,void 0,(function*(){return()=>n(73080)})),"@openshift-console/dynamic-plugin-sdk-internal":()=>a(void 0,void 0,void 0,(function*(){return()=>n(52241)})),react:()=>a(void 0,void 0,void 0,(function*(){return()=>n(93264)})),"react-router":()=>a(void 0,void 0,void 0,(function*(){return()=>n(5977)})),"react-router-dom":()=>a(void 0,void 0,void 0,(function*(){return()=>n(16530)}))})},l=new Map,u=o.once(((e,t)=>{(0,r.NN)(e,t),(e=>{window.loadPluginEntry=((e,t,n)=>(s,o)=>{if(!l.has(s))return void console.error(`Received callback for unknown plugin ${s}`);const r=l.get(s);if(r.entryCallbackFired)return void console.error(`Received callback for already loaded plugin ${s}`);r.entryCallbackFired=!0;try{t(o)}catch(e){return void console.error(`Failed to override shared modules for plugin ${s}`,e)}const i=n(r.manifest.extensions,o,s,(()=>{console.error(`Code reference resolution failed for plugin ${s}`),e.setDynamicPluginEnabled(s,!1)}));e.addDynamicPlugin(s,r.manifest,i)})(e,c,i.bL)})(e)}));var d=n(27672);n(94605),n(8679);var p=n(61919);function h(e){return({dispatch:t,getState:n})=>s=>o=>"function"==typeof o?o(t,n,e):s(o)}const v=h();v.withExtraArgument=h;const m=v,y=Object.freeze({FLAGS:(e,t)=>e?"setFlag"===t.type?e[t.payload.flag]=t.payload.value:e:{}}),f=p.compose;let g=null;const w=()=>{const e=(()=>{if(!g){const e=(0,p.createStore)((0,p.combineReducers)(y),{},f((0,p.applyMiddleware)(m)));g=e}return g})();return s.useEffect((()=>{if(e){const t=[],n=(()=>{const e=window.SERVER_FLAGS.consolePlugins,t=(()=>{const e={},t=new URLSearchParams(window.location.search);for(const[n,s]of t.entries())e[n]=s;return e})()["disable-plugins"];if(!t)return e;if(""===t)return[];const n=o.compact(t.split(","));return e.filter((e=>!n.includes(e)))})(),s=new d.G(t,n);u(s,e)}}),[e]),null}},67745:(e,t,n)=>{"use strict";n.d(t,{NN:()=>u,ZQ:()=>d});var s=n(96486),o=n(27672);let r=!1;const i=[],a=[];let c=s.noop,l=s.noop;const u=(e,t)=>{if(r)throw new Error("Subscription service is already initialized");r=!0;const n=()=>e.getAllExtensions(),u=()=>t.getState().FLAGS,d=(e,t,n)=>{const r=s.flatMap(e.typeGuards.map((e=>t.filter(e)))).filter((e=>(0,o.lH)(e,n)));s.isEqual(r,e.listenerLastArgs)||(e.listenerLastArgs=r,e.listener(r))};c=e=>{d(e,n(),u())},l=t=>{t(e.getDynamicPluginInfo())};let p=null,h=null;const v=()=>{if(0===i.length)return;const e=n(),t=u();s.isEqual(e,p)&&t===h||(p=e,h=t,i.forEach((n=>{d(n,e,t)})))};let m=null;const y=()=>{if(0===a.length)return;const t=e.getDynamicPluginInfo();s.isEqual(t,m)||(m=t,a.forEach((e=>{e(t)})))};e.subscribe(v),e.subscribe(y),t.subscribe(v),v(),y()},d=(e,...t)=>{if(0===t.length)throw new Error("You must pass at least one type guard to subscribeToExtensions");const n={listener:e,typeGuards:t};return((e,t,n)=>{let s=!0;return t.push(e),n(),()=>{s&&(s=!1,t.splice(t.indexOf(e),1))}})(n,i,(()=>{c(n)}))}},94605:(e,t,n)=>{"use strict";n.d(t,{M:()=>c});var s=n(93264),o=n(96486),r=n(11923);const i=e=>"string"==typeof e&&e.length>2&&e.startsWith("%")&&e.endsWith("%");var a=n(67745);const c=(...e)=>{if(0===e.length)throw new Error("You must pass at least one type guard to useExtensions");const t=s.useRef(!0),n=s.useRef(null),c=s.useRef([]),l=s.useRef(e),u=e=>e,d=s.useCallback((()=>{null===n.current&&(n.current=(0,a.ZQ)((e=>{c.current=e.map((e=>((e,t)=>((0,r.H)(e.properties,i,((e,n,s)=>{s[n]=t(e)})),e))(e,u))),t.current}),...l.current))}),[()=>{},u]),p=s.useCallback((()=>{null!==n.current&&(n.current(),n.current=null)}),[]);return o.isEqual(l.current,e)||(l.current=e,p()),d(),s.useEffect((()=>()=>{t.current=!1,p()}),[p]),c.current}},27672:(e,t,n)=>{"use strict";n.d(t,{lH:()=>i,G:()=>a});var s=n(96486);const o=e=>(e.flags=e.flags||{},e.flags.required=s.uniq(e.flags.required||[]),e.flags.disallowed=s.uniq(e.flags.disallowed||[]),e),r=(e,t,n,s)=>Object.assign(e,{pluginID:t,pluginName:n,uid:`${t}[${s}]`}),i=(e,t)=>e.flags.required.every((e=>!0===t[e]))&&e.flags.disallowed.every((e=>!1===t[e]));class a{constructor(e=[],t=[]){this.dynamicPluginExtensions=[],this.loadedDynamicPlugins=new Map,this.failedDynamicPluginNames=new Set,this.listeners=[],this.staticPluginExtensions=s.flatMap(e.map((e=>e.extensions.map(((t,n)=>Object.freeze(r(o(Object.assign({},t)),e.name,e.name,n))))))),this.allowedDynamicPluginNames=new Set(t)}getAllExtensions(){return[...this.staticPluginExtensions,...this.dynamicPluginExtensions]}getAllowedDynamicPluginNames(){return Array.from(this.allowedDynamicPluginNames)}subscribe(e){let t=!0;return this.listeners.push(e),()=>{t&&(t=!1,this.listeners.splice(this.listeners.indexOf(e),1))}}invokeListeners(){this.listeners.forEach((e=>{e()}))}addDynamicPlugin(e,t,n){this.loadedDynamicPlugins.has(e)?console.warn(`Attempt to re-add plugin ${e}`):this.allowedDynamicPluginNames.has(t.name)?this.failedDynamicPluginNames.has(t.name)?console.warn(`Attempt to add plugin ${e} previously marked as failed`):(this.loadedDynamicPlugins.set(e,{manifest:Object.freeze(t),processedExtensions:n.map(((n,s)=>Object.freeze(r(o(n),e,t.name,s)))),enabled:!1}),this.invokeListeners(),console.log(`Added plugin ${e}`)):console.warn(`Attempt to add unexpected plugin ${e}`)}updateExtensions(){this.dynamicPluginExtensions=Array.from(this.loadedDynamicPlugins.values()).reduce(((e,t)=>t.enabled?[...e,...t.processedExtensions]:e),[])}setDynamicPluginEnabled(e,t){if(!this.loadedDynamicPlugins.has(e))return void console.warn(`Attempt to ${t?"enable":"disable"} unknown plugin ${e}`);const n=this.loadedDynamicPlugins.get(e);n.enabled!==t&&(n.enabled=t,this.updateExtensions(),this.invokeListeners(),console.log(`Plugin ${e} is now ${t?"enabled":"disabled"}`))}isDynamicPluginLoaded(e){return Array.from(this.loadedDynamicPlugins.values()).some((t=>t.manifest.name===e))}registerFailedDynamicPlugin(e){this.allowedDynamicPluginNames.has(e)?this.isDynamicPluginLoaded(e)?console.warn(`Attempt to register an already loaded plugin ${e} as failed`):(this.failedDynamicPluginNames.add(e),this.invokeListeners()):console.warn(`Attempt to register unexpected plugin ${e} as failed`)}getDynamicPluginInfo(){return[...Array.from(this.loadedDynamicPlugins.keys()).reduce(((e,t)=>{const n=this.loadedDynamicPlugins.get(t);return e.push({status:"Loaded",pluginID:t,metadata:s.omit(n.manifest,"extensions"),enabled:n.enabled}),e}),[]),...Array.from(this.failedDynamicPluginNames.values()).reduce(((e,t)=>(e.push({status:"Failed",pluginName:t}),e)),[]),...Array.from(this.allowedDynamicPluginNames.values()).filter((e=>!this.isDynamicPluginLoaded(e)&&!this.failedDynamicPluginNames.has(e))).reduce(((e,t)=>(e.push({status:"Pending",pluginName:t}),e)),[])]}getStateForTestPurposes(){return{staticPluginExtensions:this.staticPluginExtensions,dynamicPluginExtensions:this.dynamicPluginExtensions,loadedDynamicPlugins:this.loadedDynamicPlugins,failedDynamicPluginNames:this.failedDynamicPluginNames,listeners:this.listeners}}}},28527:(e,t,n)=>{"use strict";n.d(t,{S1:()=>c});var s=n(8738),o=n(68573),r=n.n(o),i=n(84885);let a;function c(...e){return a=(0,s.JH)({},[r(),(0,i.ZP)({errorDescriptionKey:["detail","stack"]}),...e]),a}}}]);
//# sourceMappingURL=../sourcemaps/624.87622b0d1b91af0277dea402c88fa93b.js.map