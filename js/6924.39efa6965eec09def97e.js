(self.webpackChunkhac_core=self.webpackChunkhac_core||[]).push([[6924],{68876:e=>{e.exports={}},42892:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var s=a(93264),n=a(5352),r=a(63366);const o=s.lazy((()=>a.e(5107).then(a.bind(a,5783)))),i=()=>s.createElement(s.Suspense,{fallback:s.createElement(r.Bullseye,null,s.createElement(r.Spinner,null))},s.createElement(n.Routes,null,s.createElement(n.Route,{path:"*",element:s.createElement(o,null)})));var c=a(41258),l=a(83215),d=a(55140),u=a(6565),p=a(58161),m=a(5764),g=a(88092);const h=s.memo((({handler:e})=>{const t=(0,m.usePluginStore)();return e(s.useCallback(((e,a)=>{t.setFeatureFlags({[e]:a})}),[t])),null}));var v=a(17622);const b=s.memo((({flag:e,model:t})=>{const[,a]=(0,m.useFeatureFlag)(e),[n]=(0,v.useK8sModel)(t);return s.useEffect((()=>{a(!!n)}),[n,a]),null})),f=()=>{const e=(0,n.useNavigate)(),{getRegistry:t}=s.useContext(p.g),[a]=(0,m.useResolvedExtensions)(g.isFeatureFlag),r=(0,m.useExtensions)(g.isModelFeatureFlag),o=(0,d.Z)(),v=(0,u.useStore)();return s.useEffect((()=>{t().register({notifications:l.ee});const{on:a}=o,s=a("APP_NAVIGATION",(t=>{t.domEvent&&e(`${t.domEvent.href.replace("/hac","")}`)}));return()=>{s()}}),[o,t,e]),s.createElement(s.Fragment,null,a.map((e=>s.createElement(h,Object.assign({},e.properties,{key:e.uid})))),r.map((e=>s.createElement(b,Object.assign({},e.properties,{key:e.uid})))),s.createElement(c.ZP,{store:v}),s.createElement(i,null))}},77594:(e,t,a)=>{"use strict";a.d(t,{w:()=>s});const s=(e,t)=>{return a=void 0,s=void 0,r=function*(){var a;try{const s=yield fetch(`${e?"/beta":""}/apps/${t}/plugins.json`);if(!(null===(a=s.headers.get("content-type"))||void 0===a?void 0:a.includes("application/json")))throw new Error("plugin data response is not type application/json");return yield s.json()}catch(e){return console.error("Failed to fetch plugin data",e),[]}},new((n=void 0)||(n=Promise))((function(e,t){function o(e){try{c(r.next(e))}catch(e){t(e)}}function i(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(o,i)}c((r=r.apply(a,s||[])).next())}));var a,s,n,r}},19090:(e,t,a)=>{"use strict";a.d(t,{W:()=>Q});var s=a(93264),n=a(17622),r=a(63366);const o=()=>s.createElement(r.Bullseye,null,s.createElement(r.Spinner,null));class i extends Error{constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,Object.setPrototypeOf(this,new.target.prototype)}}class c extends i{constructor(e,t,a,s){super(e),this.code=t,this.response=a,this.json=s}static fromCode(e){return new c(c.messages[e],e)}}c.messages={400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",510:"Not Extended",511:"Network Authentication Required"};var l=function(e,t,a,s){return new(a||(a=Promise))((function(n,r){function o(e){try{c(s.next(e))}catch(e){r(e)}}function i(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,i)}c((s=s.apply(e,t||[])).next())}))};const d="/api/k8s",u=e=>(t,a={})=>l(void 0,void 0,void 0,(function*(){var{pathPrefix:s}=a,n=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(a[s[n]]=e[s[n]])}return a}(a,["pathPrefix"]);const r=yield e.getToken();if(!r)return Promise.reject("Could not make k8s call. Unable to find token.");const o=Object.assign(Object.assign({},n),{headers:Object.assign(Object.assign({},n.headers),{Accept:"application/json",Authorization:`Bearer ${r}`})}),i=`${0===(null!=s?s:d).indexOf("/")?"":"/"}${null!=s?s:d}`;try{let e=t;return/^\/\//.test(t)&&(e=t.slice(1)),u=yield fetch(new Request(`${i}${e}`,{credentials:"include"}),o),l(void 0,void 0,void 0,(function*(){if(u.ok)return u;if(401===u.status)throw new c("Invalid token. Are you working with Prod SSO token?",u.status,u);const e=u.headers.get("content-type");if(!e||-1===e.indexOf("json"))throw new c(u.statusText,u.status,u);return 403===u.status?u.json().then((e=>{throw new c(e.message||"Access denied due to cluster policy.",u.status,u,e)})):u.json().then((e=>{var t,a;const s=null===(a=null===(t=e.details)||void 0===t?void 0:t.causes)||void 0===a?void 0:a[0];let n;throw s&&(n=`Error "${s.message}" for field "${s.field}".`),n||(n=e.message),n||(n=e.error),n||(n=u.statusText),new c(n,u.status,u,e)}))}))}catch(e){return Promise.reject(e)}var u})),p=e=>[`base64url.bearer.authorization.k8s.io.${btoa(e).replace(/\+/g,"-").replace(/\//g,"_").split("=",1)[0]}`,"base64.binary.k8s.io"];var m=a(77594),g=a(4147),h=a(5764),v=a(49093),b=a(55140);const f=({wsPrefix:e,pathPrefix:t}={})=>{const a=e||t||"";return`wss://${location.host}${a||"/wss/k8s"}`},N=()=>{const{auth:e}=(0,b.Z)(),[t,a]=s.useState(null),{pluginStore:n}=(0,v.useScalprum)();return s.useEffect((()=>{e&&!t&&((e=>{let t=e;if(!t){const e=new h.PluginLoader({postProcessManifest:e=>{var t,a;return Object.assign(Object.assign({},e),{loadScripts:null!==(t=e.loadScripts)&&void 0!==t?t:["plugin-entry.js"],registrationMethod:null!==(a=e.registrationMethod)&&void 0!==a?a:"callback"})}});e.registerPluginEntryCallback(),t=new h.PluginStore,t.setLoader(e)}(0,m.w)(window.insights.chrome.isBeta(),g.Kn.b).then((e=>{e.forEach((({name:e,pathPrefix:a="/api/plugins"})=>{const s=`/beta${a}/${e}/`;t.loadPlugin(s)}))}))})(n),a({appFetch:u(e),wsAppSettings:t=>{return a=void 0,s=void 0,r=function*(){const a=yield e.getToken();return{host:f(t),subProtocols:p(a),urlAugment:e=>{const[t,a]=e.split("?")||[],s=new URLSearchParams(a);return s.get("watch")||s.set("watch","true"),`${t}?${s.toString()}`}}},new((n=void 0)||(n=Promise))((function(e,t){function o(e){try{c(r.next(e))}catch(e){t(e)}}function i(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(o,i)}c((r=r.apply(a,s||[])).next())}));var a,s,n,r},apiPriorityList:["appstudio.redhat.com"],pluginStore:n}))}),[t,e,n]),t};var k=a(30236),w=a.n(k);const y="sdk/api-discovery-resources",S=["ASS"],P=new Set(["roles","rolebindings","clusterroles","clusterrolebindings","thirdpartyresources","nodes","secrets"]);var V=a(23450),O=a(18029),x=a.n(O),H=a(24350),R=a.n(H),E=a(82492),A=a.n(E);const I=e=>{const t=(e.replace(/[^A-Z]+/g,"")||e.toUpperCase()).slice(0,4);return S.includes(t)?t.slice(0,-1):t},j=e=>{const t=(0,V.plural)(x()(e)).replace(/\s+/g,"");return t===`${e}S`?`${e}s`:t},C=({apiVersion:e,apiGroup:t,kind:a})=>(({group:e,version:t,kind:a})=>[e||"core",t,a].join("~"))({group:t,version:e,kind:a}),F=()=>{try{return JSON.parse(localStorage.getItem(y)||"{}")}catch(e){throw console.error("Cannot load cached API resources",e),e}},M=e=>{(e=>{try{localStorage.setItem(y,JSON.stringify(e))}catch(e){throw console.error("Error caching API resources in localStorage",e),e}})([F(),...e].reduce(((e,t)=>w()(e,t,((e,t)=>{var a,s,n,r;if(Array.isArray(e)&&"Object"===(null===(s=null===(a=e[0])||void 0===a?void 0:a.constructor)||void 0===s?void 0:s.name))return n=e,r=t,Object.values(A()(R()(n,C),R()(r,C)))}))),{}))};var q=a(8400),T=a.n(q);const B={"/api/v1":{plural:"",kind:"APIResourceList",apiVersion:"v1",groupVersion:"v1",resources:[{name:"bindings",singularName:"",namespaced:!0,kind:"Binding",verbs:["create"]},{name:"componentstatuses",singularName:"",namespaced:!1,kind:"ComponentStatus",verbs:["get","list"],shortNames:["cs"]},{name:"configmaps",singularName:"",namespaced:!0,kind:"ConfigMap",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["cm"],storageVersionHash:"qFsyl6wFWjQ="},{name:"endpoints",singularName:"",namespaced:!0,kind:"Endpoints",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["ep"],storageVersionHash:"fWeeMqaN/OA="},{name:"events",singularName:"",namespaced:!0,kind:"Event",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["ev"],storageVersionHash:"r2yiGXH7wu8="},{name:"limitranges",singularName:"",namespaced:!0,kind:"LimitRange",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["limits"],storageVersionHash:"EBKMFVe6cwo="},{name:"namespaces",singularName:"",namespaced:!1,kind:"Namespace",verbs:["create","delete","get","list","patch","update","watch"],shortNames:["ns"],storageVersionHash:"Q3oi5N2YM8M="},{name:"namespaces/finalize",singularName:"",namespaced:!1,kind:"Namespace",verbs:["update"]},{name:"namespaces/status",singularName:"",namespaced:!1,kind:"Namespace",verbs:["get","patch","update"]},{name:"nodes",singularName:"",namespaced:!1,kind:"Node",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["no"],storageVersionHash:"XwShjMxG9Fs="},{name:"nodes/proxy",singularName:"",namespaced:!1,kind:"NodeProxyOptions",verbs:["create","delete","get","patch","update"]},{name:"nodes/status",singularName:"",namespaced:!1,kind:"Node",verbs:["get","patch","update"]},{name:"persistentvolumeclaims",singularName:"",namespaced:!0,kind:"PersistentVolumeClaim",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["pvc"],storageVersionHash:"QWTyNDq0dC4="},{name:"persistentvolumeclaims/status",singularName:"",namespaced:!0,kind:"PersistentVolumeClaim",verbs:["get","patch","update"]},{name:"persistentvolumes",singularName:"",namespaced:!1,kind:"PersistentVolume",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["pv"],storageVersionHash:"HN/zwEC+JgM="},{name:"persistentvolumes/status",singularName:"",namespaced:!1,kind:"PersistentVolume",verbs:["get","patch","update"]},{name:"pods",singularName:"",namespaced:!0,kind:"Pod",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["po"],categories:["all"],storageVersionHash:"xPOwRZ+Yhw8="},{name:"pods/attach",singularName:"",namespaced:!0,kind:"PodAttachOptions",verbs:["create","get"]},{name:"pods/binding",singularName:"",namespaced:!0,kind:"Binding",verbs:["create"]},{name:"pods/ephemeralcontainers",singularName:"",namespaced:!0,kind:"Pod",verbs:["get","patch","update"]},{name:"pods/eviction",singularName:"",namespaced:!0,group:"policy",version:"v1",kind:"Eviction",verbs:["create"]},{name:"pods/exec",singularName:"",namespaced:!0,kind:"PodExecOptions",verbs:["create","get"]},{name:"pods/log",singularName:"",namespaced:!0,kind:"Pod",verbs:["get"]},{name:"pods/portforward",singularName:"",namespaced:!0,kind:"PodPortForwardOptions",verbs:["create","get"]},{name:"pods/proxy",singularName:"",namespaced:!0,kind:"PodProxyOptions",verbs:["create","delete","get","patch","update"]},{name:"pods/status",singularName:"",namespaced:!0,kind:"Pod",verbs:["get","patch","update"]},{name:"podtemplates",singularName:"",namespaced:!0,kind:"PodTemplate",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],storageVersionHash:"LIXB2x4IFpk="},{name:"replicationcontrollers",singularName:"",namespaced:!0,kind:"ReplicationController",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["rc"],categories:["all"],storageVersionHash:"Jond2If31h0="},{name:"replicationcontrollers/scale",singularName:"",namespaced:!0,group:"autoscaling",version:"v1",kind:"Scale",verbs:["get","patch","update"]},{name:"replicationcontrollers/status",singularName:"",namespaced:!0,kind:"ReplicationController",verbs:["get","patch","update"]},{name:"resourcequotas",singularName:"",namespaced:!0,kind:"ResourceQuota",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["quota"],storageVersionHash:"8uhSgffRX6w="},{name:"resourcequotas/status",singularName:"",namespaced:!0,kind:"ResourceQuota",verbs:["get","patch","update"]},{name:"secrets",singularName:"",namespaced:!0,kind:"Secret",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],storageVersionHash:"S6u1pOWzb84="},{name:"serviceaccounts",singularName:"",namespaced:!0,kind:"ServiceAccount",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["sa"],storageVersionHash:"pbx9ZvyFpBE="},{name:"serviceaccounts/token",singularName:"",namespaced:!0,group:"authentication.k8s.io",version:"v1",kind:"TokenRequest",verbs:["create"]},{name:"services",singularName:"",namespaced:!0,kind:"Service",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["svc"],categories:["all"],storageVersionHash:"0/CO1lhkEBI="},{name:"services/proxy",singularName:"",namespaced:!0,kind:"ServiceProxyOptions",verbs:["create","delete","get","patch","update"]},{name:"services/status",singularName:"",namespaced:!0,kind:"Service",verbs:["get","patch","update"]}]},"/apis/apps/v1":{plural:"",kind:"APIResourceList",apiVersion:"v1",groupVersion:"apps/v1",resources:[{name:"controllerrevisions",singularName:"",namespaced:!0,kind:"ControllerRevision",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],storageVersionHash:"85nkx63pcBU="},{name:"daemonsets",singularName:"",namespaced:!0,kind:"DaemonSet",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["ds"],categories:["all"],storageVersionHash:"dd7pWHUlMKQ="},{name:"daemonsets/status",singularName:"",namespaced:!0,kind:"DaemonSet",verbs:["get","patch","update"]},{name:"deployments",singularName:"",namespaced:!0,kind:"Deployment",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["deploy"],categories:["all"],storageVersionHash:"8aSe+NMegvE="},{name:"deployments/scale",singularName:"",namespaced:!0,group:"autoscaling",version:"v1",kind:"Scale",verbs:["get","patch","update"]},{name:"deployments/status",singularName:"",namespaced:!0,kind:"Deployment",verbs:["get","patch","update"]},{name:"replicasets",singularName:"",namespaced:!0,kind:"ReplicaSet",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["rs"],categories:["all"],storageVersionHash:"P1RzHs8/mWQ="},{name:"replicasets/scale",singularName:"",namespaced:!0,group:"autoscaling",version:"v1",kind:"Scale",verbs:["get","patch","update"]},{name:"replicasets/status",singularName:"",namespaced:!0,kind:"ReplicaSet",verbs:["get","patch","update"]},{name:"statefulsets",singularName:"",namespaced:!0,kind:"StatefulSet",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["sts"],categories:["all"],storageVersionHash:"H+vl74LkKdo="},{name:"statefulsets/scale",singularName:"",namespaced:!0,group:"autoscaling",version:"v1",kind:"Scale",verbs:["get","patch","update"]},{name:"statefulsets/status",singularName:"",namespaced:!0,kind:"StatefulSet",verbs:["get","patch","update"]}]},"/apis/config.openshift.io/v1":{plural:"",kind:"APIResourceList",apiVersion:"v1",groupVersion:"config.openshift.io/v1",resources:[{name:"clusterversions",singularName:"clusterversion",namespaced:!1,kind:"ClusterVersion",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"jfyZTemckiE="},{name:"clusterversions/status",singularName:"",namespaced:!1,kind:"ClusterVersion",verbs:["get","patch","update"]},{name:"projects",singularName:"project",namespaced:!1,kind:"Project",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"q4gdBJZsxYc="},{name:"projects/status",singularName:"",namespaced:!1,kind:"Project",verbs:["get","patch","update"]},{name:"dnses",singularName:"dns",namespaced:!1,kind:"DNS",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"SAHetG08gBY="},{name:"dnses/status",singularName:"",namespaced:!1,kind:"DNS",verbs:["get","patch","update"]},{name:"proxies",singularName:"proxy",namespaced:!1,kind:"Proxy",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"2I4SQ6PshRY="},{name:"proxies/status",singularName:"",namespaced:!1,kind:"Proxy",verbs:["get","patch","update"]},{name:"nodes",singularName:"node",namespaced:!1,kind:"Node",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"QOl4Ml/XMag="},{name:"nodes/status",singularName:"",namespaced:!1,kind:"Node",verbs:["get","patch","update"]},{name:"oauths",singularName:"oauth",namespaced:!1,kind:"OAuth",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"4BZS3Rc6+4g="},{name:"oauths/status",singularName:"",namespaced:!1,kind:"OAuth",verbs:["get","patch","update"]},{name:"builds",singularName:"build",namespaced:!1,kind:"Build",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"OCpV5nXxruQ="},{name:"builds/status",singularName:"",namespaced:!1,kind:"Build",verbs:["get","patch","update"]},{name:"authentications",singularName:"authentication",namespaced:!1,kind:"Authentication",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"GY8wWr8iSHA="},{name:"authentications/status",singularName:"",namespaced:!1,kind:"Authentication",verbs:["get","patch","update"]},{name:"consoles",singularName:"console",namespaced:!1,kind:"Console",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"0HpeDULnQWY="},{name:"consoles/status",singularName:"",namespaced:!1,kind:"Console",verbs:["get","patch","update"]},{name:"featuregates",singularName:"featuregate",namespaced:!1,kind:"FeatureGate",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"HSu6crTvi5E="},{name:"featuregates/status",singularName:"",namespaced:!1,kind:"FeatureGate",verbs:["get","patch","update"]},{name:"apiservers",singularName:"apiserver",namespaced:!1,kind:"APIServer",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"yr4VqIMvOkg="},{name:"apiservers/status",singularName:"",namespaced:!1,kind:"APIServer",verbs:["get","patch","update"]},{name:"schedulers",singularName:"scheduler",namespaced:!1,kind:"Scheduler",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"ptedUcY9aMg="},{name:"schedulers/status",singularName:"",namespaced:!1,kind:"Scheduler",verbs:["get","patch","update"]},{name:"ingresses",singularName:"ingress",namespaced:!1,kind:"Ingress",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"PHiQOptbYkg="},{name:"ingresses/status",singularName:"",namespaced:!1,kind:"Ingress",verbs:["get","patch","update"]},{name:"operatorhubs",singularName:"operatorhub",namespaced:!1,kind:"OperatorHub",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"O7bQeZSTFtM="},{name:"operatorhubs/status",singularName:"",namespaced:!1,kind:"OperatorHub",verbs:["get","patch","update"]},{name:"imagecontentpolicies",singularName:"imagecontentpolicy",namespaced:!1,kind:"ImageContentPolicy",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"4sS3ccaNRA4="},{name:"imagecontentpolicies/status",singularName:"",namespaced:!1,kind:"ImageContentPolicy",verbs:["get","patch","update"]},{name:"clusteroperators",singularName:"clusteroperator",namespaced:!1,kind:"ClusterOperator",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],shortNames:["co"],storageVersionHash:"hIXM1ouzyag="},{name:"clusteroperators/status",singularName:"",namespaced:!1,kind:"ClusterOperator",verbs:["get","patch","update"]},{name:"networks",singularName:"network",namespaced:!1,kind:"Network",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"gAEoywwmFz4="},{name:"images",singularName:"image",namespaced:!1,kind:"Image",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"6sMalKeq6tY="},{name:"images/status",singularName:"",namespaced:!1,kind:"Image",verbs:["get","patch","update"]},{name:"infrastructures",singularName:"infrastructure",namespaced:!1,kind:"Infrastructure",verbs:["delete","deletecollection","get","list","patch","create","update","watch"],storageVersionHash:"s/S0qwLEaK4="},{name:"infrastructures/status",singularName:"",namespaced:!1,kind:"Infrastructure",verbs:["get","patch","update"]}]},"/apis/apps.openshift.io/v1":{plural:"",kind:"APIResourceList",apiVersion:"v1",groupVersion:"apps.openshift.io/v1",resources:[{name:"deploymentconfigs",singularName:"",namespaced:!0,kind:"DeploymentConfig",verbs:["create","delete","deletecollection","get","list","patch","update","watch"],shortNames:["dc"],categories:["all"],storageVersionHash:"6xyoXGsxfiA="},{name:"deploymentconfigs/instantiate",singularName:"",namespaced:!0,kind:"DeploymentRequest",verbs:["create"]},{name:"deploymentconfigs/log",singularName:"",namespaced:!0,kind:"DeploymentLog",verbs:["get"]},{name:"deploymentconfigs/rollback",singularName:"",namespaced:!0,kind:"DeploymentConfigRollback",verbs:["create"]},{name:"deploymentconfigs/scale",singularName:"",namespaced:!0,group:"extensions",version:"v1beta1",kind:"Scale",verbs:["get","patch","update"]},{name:"deploymentconfigs/status",singularName:"",namespaced:!0,kind:"DeploymentConfig",verbs:["get","patch","update"]}]}};var $=function(e,t,a,s){return new(a||(a=Promise))((function(n,r){function o(e){try{c(s.next(e))}catch(e){r(e)}}function i(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,i)}c((s=s.apply(e,t||[])).next())}))};const L=e=>e.map((e=>$(void 0,void 0,void 0,(function*(){var t;const[,a]=Object.entries(B).find((([t])=>t===e))||[],s=a||(yield(0,n.commonFetchJSON)(e)),r=new Set,o=new Set;null===(t=(s||{}).resources)||void 0===t||t.forEach((({namespaced:e,name:t})=>{r.add(t),e&&o.add(t)}));const i=[...r].sort(),c=[],l=[],d=(e=>{const{groupVersion:t=""}=e,[a,s]=t.split("/").reverse();return!e.resources||e.resources.length<1?[]:e.resources.filter((({name:e})=>!e.includes("/"))).map((({name:e,singularName:t,namespaced:n,kind:r,verbs:o,shortNames:i})=>Object.assign(Object.assign({},s?{apiGroup:s}:{}),{apiVersion:a,kind:r,namespaced:n,verbs:o,shortNames:i,plural:e,crd:!0,abbr:I(r),labelPlural:j(r),path:e,id:t,label:r})))})(s||{}).flat();i.forEach((e=>P.has(e.split("/")[0])?l.push(e):c.push(e)));const u=d.filter((e=>"config.openshift.io"===e.apiGroup&&"ClusterOperator"!==e.kind)),p=d.filter((e=>"operator.openshift.io"===e.apiGroup));return{allResources:i,safeResources:c,adminResources:l,configResources:u,clusterOperatorConfigResources:p,namespacedSet:o,models:d}}))));const D=(e,t)=>{return a=void 0,s=void 0,o=function*(){try{const a=(0,n.createAPIActions)(t);a.setResourcesInFlight(!0),a.setBatchesInFlight(!0);const[s,r]=yield(e=>$(void 0,void 0,void 0,(function*(){const t=yield(0,n.commonFetchJSON)("/apis"),a=((null==t?void 0:t.groups)||[]).reduce(((e,{name:t,versions:a,preferredVersion:{version:s}})=>(e[t]={versions:a.map((({version:e})=>e)),preferredVersion:s},e)),{}),s=["/api/v1",...((null==t?void 0:t.groups)||[]).flatMap((e=>e.versions.map((e=>`/apis/${e.groupVersion}`)))).sort((t=>e.find((e=>t.includes(`/apis/${e}`)))?-1:0))];return[T()(s,5),a]})))(e);for(const e of s){const t=yield Promise.all(L(e));M(t),t.map((e=>a.receivedResources(Object.assign(Object.assign({},e),r))))}a.setBatchesInFlight(!1),a.setResourcesInFlight(!1)}catch(e){console.error("API discovery startAPIDiscovery failed:",e)}},new((r=void 0)||(r=Promise))((function(e,t){function n(e){try{c(o.next(e))}catch(e){t(e)}}function i(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var a;t.done?e(t.value):(a=t.value,a instanceof r?a:new r((function(e){e(a)}))).then(n,i)}c((o=o.apply(a,s||[])).next())}));var a,s,r,o},G=(e,t=[])=>{const a=(()=>{const e=localStorage.getItem(y);if(!e)return console.error("No API resources found in localStorage for key sdk/api-discovery-resources"),null;localStorage.removeItem(y);const t=JSON.parse(e);return console.info("Loaded cached API resources from localStorage"),t})();a&&(0,n.createAPIActions)(e.dispatch).receivedResources(a),console.info("API discovery waiting 5000 ms before initializing"),window.setTimeout((()=>D(t,e.dispatch)),a?5e3:0)},Q=({children:e})=>{const t=N();return t?s.createElement(n.AppInitSDK,{configurations:Object.assign(Object.assign({},t),{apiDiscovery:G})},e):s.createElement(o,null)}},58161:(e,t,a)=>{"use strict";a.d(t,{S:()=>p,g:()=>d});var s=a(93264),n=a(8738),r=a(68573),o=a.n(r),i=a(84885),c=a(17622),l=a(53894);const d=(0,s.createContext)({});let u;function p(...e){return u=(0,n.JH)({},[l.Z,o(),(0,i.uv)({errorDescriptionKey:["detail","stack"]}),...e.filter(Boolean)],void 0),u.register(c.SDKReducers),u}},4147:e=>{"use strict";e.exports=JSON.parse('{"Kn":{"b":"hac-core"}}')}}]);
//# sourceMappingURL=../sourcemaps/6924.30c3b1f84aa56b83546c2b2200bdfe76.js.map