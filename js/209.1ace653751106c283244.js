"use strict";(self.webpackChunkhac_core=self.webpackChunkhac_core||[]).push([[209],{55140:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(4942),i=n(54025);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const a=function(e){var t,n=(0,i.useScalprum)(),r=(null===(t=n.api)||void 0===t?void 0:t.chrome)||{};return r=c(c({},r),{},{initialized:n.initialized}),"function"==typeof e?e(r):r}},41209:(e,t,n)=>{n.r(t),n.d(t,{useNavigation:()=>d,default:()=>v});var r=n(93264),i=n(89142),o=n(83555),c=n(55140),a=n(4147),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function c(e){try{s(r.next(e))}catch(e){o(e)}}function a(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))};const u=["console.navigation/href","console.navigation/section"],l=e=>"fulfilled"===e.status&&Boolean(e.value),f=e=>u.includes(e.type),p=({dynamicNav:e,currentNamespace:t,base:n,isBeta:r})=>s(void 0,void 0,void 0,(function*(){const[c,u]=e.split("/");let p,d=[];try{d=yield((e="",t=(()=>!1))=>s(void 0,void 0,void 0,(function*(){const n=yield(0,i.w)(t(),a.Kn.b);return(yield Promise.allSettled(n.flatMap((({name:t,pathPrefix:n="/api/plugins"})=>s(void 0,void 0,void 0,(function*(){const r=`${e}${n}/${t}/plugin-manifest.json`,i=yield fetch(r);if(200!==i.status){const e=`${r} - ${i.status} - ${i.statusText}`;throw console.error(e),new Error(e)}return(yield i.json()).extensions})))))).filter(l).map((({value:e})=>e)).flat().filter(f)})))(n,r),p=(([e,t],n,r)=>r.filter((({type:e,properties:n})=>e.includes("console.navigation/href")&&n.section===t)).map((r=>({appId:e,href:`/${n}${t?`/${t}`:""}${r.properties.href}`,title:r.properties.name}))))([c,u],t,d),0===p.length&&(p=[{isHidden:!0}])}catch(e){p=[{isHidden:!0}],console.error("Problem fetching extensions",e)}const{properties:v}=d.find((e=>(0,o.isNavSection)(e)))||{};return v?{expandable:!0,title:v.name,routes:p}:p})),d=({dynamicNav:e,currentNamespace:t})=>{const[n,i]=r.useState(),o=r.useRef(!1),{isBeta:a}=(0,c.Z)();return r.useEffect((()=>(e&&p({dynamicNav:e,currentNamespace:t,base:a()?"/beta":"",isBeta:a}).then((e=>{o.current||i(e)})),()=>{o.current=!0})),[e,t]),n},v=p},89142:(e,t,n)=>{n.d(t,{w:()=>r});const r=(e,t)=>{return n=void 0,r=void 0,o=function*(){try{return(yield fetch(`${e?"/beta":""}/apps/${t}/plugins.json`)).json()}catch(e){return console.error("Failed to fetch plugin data",e),[]}},new((i=void 0)||(i=Promise))((function(e,t){function c(e){try{s(o.next(e))}catch(e){t(e)}}function a(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(c,a)}s((o=o.apply(n,r||[])).next())}));var n,r,i,o}},4942:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},4147:e=>{e.exports=JSON.parse('{"Kn":{"b":"hac-core"}}')}}]);
//# sourceMappingURL=../sourcemaps/209.6b282bc29a0f0cda73a232a2fe9d2138.js.map